"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/standalone/scanner/[category]/page",{

/***/ "(app-pages-browser)/./lib/window-injector.ts":
/*!********************************!*\
  !*** ./lib/window-injector.ts ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   openScannerWindow: function() { return /* binding */ openScannerWindow; }\n/* harmony export */ });\n/**\n * Sistema de Ventanas Inyectadas para Scanner (Patrón Godel Terminal)\n * \n * - Abre about:blank\n * - Inyecta HTML con Tailwind CSS\n * - Conecta al SharedWorker existente\n * - Diseño IDÉNTICO al scanner original\n */ function openScannerWindow(data, config) {\n    const { width = 1400, height = 900, centered = true } = config;\n    const left = centered ? (window.screen.width - width) / 2 : 100;\n    const top = centered ? (window.screen.height - height) / 2 : 100;\n    const windowFeatures = [\n        \"width=\".concat(width),\n        \"height=\".concat(height),\n        \"left=\".concat(left),\n        \"top=\".concat(top),\n        \"resizable=yes\",\n        \"scrollbars=yes\",\n        \"status=yes\"\n    ].join(\",\");\n    const newWindow = window.open(\"about:blank\", \"_blank\", windowFeatures);\n    if (!newWindow) {\n        console.error(\"❌ Window blocked\");\n        return null;\n    }\n    injectScannerContent(newWindow, data, config);\n    return newWindow;\n}\nfunction injectScannerContent(targetWindow, data, config) {\n    const { title } = config;\n    const htmlContent = '\\n<!DOCTYPE html>\\n<html lang=\"es\">\\n<head>\\n  <meta charset=\"UTF-8\">\\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\\n  <title>'.concat(title, '</title>\\n  \\n  <!-- Tailwind CSS (mismo que scanner) -->\\n  <script src=\"https://cdn.tailwindcss.com\"></script>\\n</head>\\n<body class=\"bg-white overflow-hidden\">\\n  <div id=\"root\" class=\"h-screen flex flex-col\">\\n    <div class=\"flex items-center justify-center h-full bg-slate-50\">\\n      <div class=\"text-center\">\\n        <div class=\"animate-spin rounded-full h-14 w-14 border-b-4 border-blue-600 mx-auto mb-4\"></div>\\n        <p class=\"text-slate-900 font-semibold text-base\">Conectando...</p>\\n        <p class=\"text-slate-600 text-sm mt-2\">Estableciendo conexi\\xf3n WebSocket</p>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <script>\\n    const CONFIG = ').concat(JSON.stringify(data), ';\\n    \\n    let sharedWorker = null;\\n    let workerPort = null;\\n    let isConnected = false;\\n    let tickersData = new Map();\\n    let tickerOrder = [];\\n    \\n    console.log(\\'\\uD83D\\uDE80 [Scanner Window] Init:\\', CONFIG.listName);\\n    \\n    // ============================================================\\n    // WEBSOCKET (SharedWorker)\\n    // ============================================================\\n    function initWebSocket() {\\n      try {\\n        sharedWorker = new SharedWorker(\\'/workers/websocket-shared.js\\', {\\n          name: \\'tradeul-websocket\\'\\n        });\\n        \\n        workerPort = sharedWorker.port;\\n        \\n        workerPort.onmessage = (event) => {\\n          const msg = event.data;\\n          \\n          switch (msg.type) {\\n            case \\'message\\':\\n              handleWebSocketMessage(msg.data);\\n              break;\\n            case \\'status\\':\\n              isConnected = msg.isConnected;\\n              updateConnectionStatus(msg.isConnected);\\n              \\n              if (msg.isConnected) {\\n                workerPort.postMessage({\\n                  action: \\'subscribe_list\\',\\n                  list: CONFIG.listName\\n                });\\n                console.log(\\'✅ Subscribed:\\', CONFIG.listName);\\n              }\\n              break;\\n          }\\n        };\\n        \\n        workerPort.start();\\n        \\n        workerPort.postMessage({\\n          action: \\'connect\\',\\n          url: CONFIG.wsUrl\\n        });\\n        \\n      } catch (error) {\\n        console.error(\\'❌ WebSocket error:\\', error);\\n      }\\n    }\\n    \\n    function handleWebSocketMessage(message) {\\n      switch (message.type) {\\n        case \\'snapshot\\':\\n          if (message.list === CONFIG.listName) {\\n            handleSnapshot(message);\\n          }\\n          break;\\n        case \\'delta\\':\\n          if (message.list === CONFIG.listName) {\\n            handleDelta(message);\\n          }\\n          break;\\n        case \\'aggregate\\':\\n          handleAggregate(message);\\n          break;\\n      }\\n    }\\n    \\n    function handleSnapshot(snapshot) {\\n      const rows = snapshot.rows || [];\\n      console.log(\\'\\uD83D\\uDCF8 Snapshot:\\', rows.length, \\'tickers\\');\\n      \\n      tickersData.clear();\\n      tickerOrder = [];\\n      \\n      rows.forEach(ticker => {\\n        tickersData.set(ticker.symbol, ticker);\\n        tickerOrder.push(ticker.symbol);\\n      });\\n      \\n      renderTable();\\n    }\\n    \\n    function handleDelta(delta) {\\n      if (!delta.actions) return;\\n      \\n      let needsRender = false;\\n      \\n      delta.actions.forEach(action => {\\n        switch (action.action) {\\n          case \\'add\\':\\n            if (action.data) {\\n              tickersData.set(action.symbol, action.data);\\n              if (!tickerOrder.includes(action.symbol)) {\\n                tickerOrder.splice(action.rank ?? tickerOrder.length, 0, action.symbol);\\n                needsRender = true;\\n              }\\n            }\\n            break;\\n          case \\'remove\\':\\n            tickersData.delete(action.symbol);\\n            tickerOrder = tickerOrder.filter(s => s !== action.symbol);\\n            needsRender = true;\\n            break;\\n          case \\'update\\':\\n            if (action.data) {\\n              const existing = tickersData.get(action.symbol);\\n              tickersData.set(action.symbol, { ...existing, ...action.data });\\n            }\\n            break;\\n          case \\'rerank\\':\\n            tickerOrder = tickerOrder.filter(s => s !== action.symbol);\\n            tickerOrder.splice(action.new_rank, 0, action.symbol);\\n            needsRender = true;\\n            break;\\n        }\\n      });\\n      \\n      if (needsRender) renderTable();\\n    }\\n    \\n    function handleAggregate(aggregate) {\\n      if (!aggregate.symbol || !aggregate.data) return;\\n      \\n      const ticker = tickersData.get(aggregate.symbol);\\n      if (!ticker) return;\\n      \\n      ticker.price = aggregate.data.close ?? ticker.price;\\n      \\n      const cell = document.querySelector(`#row-${aggregate.symbol} .price-cell`);\\n      if (cell) cell.textContent = formatPrice(ticker.price);\\n    }\\n    \\n    function updateConnectionStatus(connected) {\\n      const dot = document.getElementById(\\'status-dot\\');\\n      const text = document.getElementById(\\'status-text\\');\\n      \\n      if (dot) {\\n        dot.className = connected \\n          ? \\'w-1.5 h-1.5 rounded-full bg-emerald-500\\' \\n          : \\'w-1.5 h-1.5 rounded-full bg-slate-300\\';\\n      }\\n      \\n      if (text) {\\n        text.textContent = connected ? \\'Live\\' : \\'Offline\\';\\n        text.className = connected\\n          ? \\'text-xs font-medium text-emerald-600\\'\\n          : \\'text-xs font-medium text-slate-500\\';\\n      }\\n    }\\n    \\n    // ============================================================\\n    // RENDER (clases Tailwind ID\\xc9NTICAS al scanner)\\n    // ============================================================\\n    function renderTable() {\\n      const tickers = tickerOrder.map(s => tickersData.get(s)).filter(Boolean);\\n      \\n      if (tickers.length === 0) {\\n        document.getElementById(\\'root\\').innerHTML = `\\n          <div class=\"h-screen flex flex-col bg-white\">\\n            <div class=\"flex items-center justify-between px-3 py-2 bg-white border-b-2 border-blue-500\">\\n              <div class=\"flex items-center gap-4\">\\n                <div class=\"flex items-center gap-2\">\\n                  <div class=\"w-1 h-6 bg-blue-500 rounded-full\"></div>\\n                  <h2 class=\"text-base font-bold text-slate-900\">${CONFIG.categoryName}</h2>\\n                </div>\\n                <div class=\"flex items-center gap-1.5\">\\n                  <div id=\"status-dot\" class=\"w-1.5 h-1.5 rounded-full bg-slate-300\"></div>\\n                  <span id=\"status-text\" class=\"text-xs font-medium text-slate-500\">Conectando</span>\\n                </div>\\n                <div class=\"flex items-center gap-1 px-2 py-0.5 bg-blue-50 rounded border border-blue-200\">\\n                  <span class=\"text-xs font-semibold text-blue-600\">0</span>\\n                  <span class=\"text-xs text-slate-600\">tickers</span>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\"flex-1 flex items-center justify-center bg-slate-50\">\\n              <p class=\"text-slate-500\">No hay datos disponibles</p>\\n            </div>\\n          </div>\\n        `;\\n        return;\\n      }\\n      \\n      const html = `\\n        <div class=\"h-screen flex flex-col bg-white\">\\n          <!-- Header (ID\\xc9NTICO a MarketTableLayout) -->\\n          <div class=\"flex items-center justify-between px-3 py-2 bg-white border-b-2 border-blue-500\">\\n            <div class=\"flex items-center gap-4\">\\n              <div class=\"flex items-center gap-2\">\\n                <div class=\"w-1 h-6 bg-blue-500 rounded-full\"></div>\\n                <h2 class=\"text-base font-bold text-slate-900 tracking-tight\">${CONFIG.categoryName}</h2>\\n              </div>\\n              \\n              <div class=\"flex items-center gap-1.5\">\\n                <div id=\"status-dot\" class=\"w-1.5 h-1.5 rounded-full bg-slate-300\"></div>\\n                <span id=\"status-text\" class=\"text-xs font-medium text-slate-500\">Offline</span>\\n              </div>\\n              \\n              <div class=\"flex items-center gap-1 px-2 py-0.5 bg-blue-50 rounded border border-blue-200\">\\n                <span class=\"text-xs font-semibold text-blue-600\">${tickers.length}</span>\\n                <span class=\"text-xs text-slate-600\">tickers</span>\\n              </div>\\n            </div>\\n            \\n            <div class=\"flex items-center gap-1.5 text-xs\">\\n              <span class=\"text-slate-500\">Updated</span>\\n              <span id=\"timestamp\" class=\"font-mono font-medium text-slate-700\">${new Date().toLocaleTimeString()}</span>\\n            </div>\\n          </div>\\n          \\n          <!-- Table Container -->\\n          <div class=\"flex-1 overflow-auto bg-white\">\\n            <table class=\"w-full border-collapse\">\\n              <thead class=\"bg-slate-50 border-b border-slate-200 sticky top-0 z-10\">\\n                <tr>\\n                  <th class=\"px-3 py-3 text-center text-xs font-semibold text-slate-600 uppercase tracking-wider\" style=\"width:40px\">#</th>\\n                  <th class=\"px-3 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider\" style=\"width:75px\">Symbol</th>\\n                  <th class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider\" style=\"width:80px\">Price</th>\\n                  <th class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider\" style=\"width:85px\">Gap %</th>\\n                  <th class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider\" style=\"width:90px\">Volume</th>\\n                  <th class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider\" style=\"width:70px\">RVOL</th>\\n                  <th class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider\" style=\"width:100px\">Market Cap</th>\\n                  <th class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider\" style=\"width:90px\">Float</th>\\n                  <th class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider\" style=\"width:70px\">ATR%</th>\\n                  <th class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider\" style=\"width:85px\">ATR Used</th>\\n                </tr>\\n              </thead>\\n              <tbody class=\"divide-y divide-slate-100 bg-white\">\\n                ${tickers.map((ticker, index) => renderRow(ticker, index + 1)).join(\\'\\')}\\n              </tbody>\\n            </table>\\n          </div>\\n        </div>\\n      `;\\n      \\n      document.getElementById(\\'root\\').innerHTML = html;\\n    }\\n    \\n    function renderRow(ticker, rank) {\\n      const gapPercent = ticker.change_percent ?? ticker.gap_percent ?? 0;\\n      const isPositive = gapPercent >= 0;\\n      const volume = ticker.volume_today ?? ticker.volume ?? 0;\\n      const rvol = ticker.rvol_slot ?? ticker.rvol ?? 0;\\n      \\n      let rvolColor = \\'text-slate-500\\';\\n      if (rvol > 3) rvolColor = \\'text-blue-700\\';\\n      else if (rvol > 1.5) rvolColor = \\'text-blue-600\\';\\n      \\n      return `\\n        <tr id=\"row-${ticker.symbol}\" class=\"hover:bg-slate-50 transition-colors duration-150 border-b border-slate-100\">\\n          <td class=\"px-3 py-2.5 text-center font-semibold text-slate-400\">${rank}</td>\\n          <td class=\"px-3 py-2.5\">\\n            <div class=\"font-bold text-blue-600\">${ticker.symbol}</div>\\n          </td>\\n          <td class=\"px-3 py-2.5 text-right\">\\n            <div class=\"price-cell font-mono font-semibold text-slate-900\">${formatPrice(ticker.price)}</div>\\n          </td>\\n          <td class=\"px-3 py-2.5 text-right\">\\n            <div class=\"font-mono font-semibold ${isPositive ? \\'text-emerald-600\\' : \\'text-rose-600\\'}\">${formatPercent(gapPercent)}</div>\\n          </td>\\n          <td class=\"px-3 py-2.5 text-right\">\\n            <div class=\"font-mono text-slate-700 font-medium\">${formatNumber(volume)}</div>\\n          </td>\\n          <td class=\"px-3 py-2.5 text-right\">\\n            <div class=\"font-mono font-semibold ${rvolColor}\">${formatRVOL(rvol)}</div>\\n          </td>\\n          <td class=\"px-3 py-2.5 text-right\">\\n            <div class=\"font-mono text-slate-600\">${formatNumber(ticker.market_cap)}</div>\\n          </td>\\n          <td class=\"px-3 py-2.5 text-right\">\\n            <div class=\"font-mono text-slate-600\">${formatNumber(ticker.float_shares)}</div>\\n          </td>\\n        </tr>\\n      `;\\n    }\\n    \\n    // ============================================================\\n    // FORMATTERS (id\\xe9nticos al scanner)\\n    // ============================================================\\n    function formatPrice(value) {\\n      if (value == null || isNaN(value)) return \\'-\\';\\n      if (value >= 1000) return `$${value.toFixed(2)}`;\\n      if (value >= 1) return `$${value.toFixed(2)}`;\\n      if (value >= 0.01) return `$${value.toFixed(3)}`;\\n      return `$${value.toFixed(4)}`;\\n    }\\n    \\n    function formatPercent(value) {\\n      if (value == null || isNaN(value)) return \\'-\\';\\n      const sign = value > 0 ? \\'+\\' : \\'\\';\\n      return `${sign}${value.toFixed(2)}%`;\\n    }\\n    \\n    function formatNumber(value) {\\n      if (value == null || isNaN(value)) return \\'-\\';\\n      if (value >= 1e9) return `${(value / 1e9).toFixed(2)}B`;\\n      if (value >= 1e6) return `${(value / 1e6).toFixed(2)}M`;\\n      if (value >= 1e3) return `${(value / 1e3).toFixed(2)}K`;\\n      return value.toLocaleString(\\'en-US\\');\\n    }\\n    \\n    function formatRVOL(value) {\\n      if (value == null || isNaN(value)) return \\'-\\';\\n      return `${value.toFixed(2)}x`;\\n    }\\n    \\n    // ============================================================\\n    // INIT\\n    // ============================================================\\n    initWebSocket();\\n    console.log(\\'✅ Initialized\\');\\n  </script>\\n</body>\\n</html>\\n  ');\n    targetWindow.document.open();\n    targetWindow.document.write(htmlContent);\n    targetWindow.document.close();\n    console.log(\"✅ [WindowInjector] Injected\");\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi93aW5kb3ctaW5qZWN0b3IudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Ozs7O0NBT0MsR0FlTSxTQUFTQSxrQkFDZEMsSUFBdUIsRUFDdkJDLE1BQW9CO0lBRXBCLE1BQU0sRUFDSkMsUUFBUSxJQUFJLEVBQ1pDLFNBQVMsR0FBRyxFQUNaQyxXQUFXLElBQUksRUFDaEIsR0FBR0g7SUFFSixNQUFNSSxPQUFPRCxXQUFXLENBQUNFLE9BQU9DLE1BQU0sQ0FBQ0wsS0FBSyxHQUFHQSxLQUFJLElBQUssSUFBSTtJQUM1RCxNQUFNTSxNQUFNSixXQUFXLENBQUNFLE9BQU9DLE1BQU0sQ0FBQ0osTUFBTSxHQUFHQSxNQUFLLElBQUssSUFBSTtJQUU3RCxNQUFNTSxpQkFBaUI7UUFDcEIsU0FBYyxPQUFOUDtRQUNSLFVBQWdCLE9BQVBDO1FBQ1QsUUFBWSxPQUFMRTtRQUNQLE9BQVUsT0FBSkc7UUFDUDtRQUNBO1FBQ0E7S0FDRCxDQUFDRSxJQUFJLENBQUM7SUFFUCxNQUFNQyxZQUFZTCxPQUFPTSxJQUFJLENBQUMsZUFBZSxVQUFVSDtJQUV2RCxJQUFJLENBQUNFLFdBQVc7UUFDZEUsUUFBUUMsS0FBSyxDQUFDO1FBQ2QsT0FBTztJQUNUO0lBRUFDLHFCQUFxQkosV0FBV1gsTUFBTUM7SUFFdEMsT0FBT1U7QUFDVDtBQUVBLFNBQVNJLHFCQUNQQyxZQUFvQixFQUNwQmhCLElBQXVCLEVBQ3ZCQyxNQUFvQjtJQUVwQixNQUFNLEVBQUVnQixLQUFLLEVBQUUsR0FBR2hCO0lBRWxCLE1BQU1pQixjQUFjLDZKQXVCREMsT0FqQlZGLE9BQU0scXBCQWlCeUIsT0FBckJFLEtBQUtDLFNBQVMsQ0FBQ3BCLE9BQU07SUFrVXhDZ0IsYUFBYUssUUFBUSxDQUFDVCxJQUFJO0lBQzFCSSxhQUFhSyxRQUFRLENBQUNDLEtBQUssQ0FBQ0o7SUFDNUJGLGFBQWFLLFFBQVEsQ0FBQ0UsS0FBSztJQUUzQlYsUUFBUVcsR0FBRyxDQUFDO0FBQ2QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbGliL3dpbmRvdy1pbmplY3Rvci50cz82NWNmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2lzdGVtYSBkZSBWZW50YW5hcyBJbnllY3RhZGFzIHBhcmEgU2Nhbm5lciAoUGF0csOzbiBHb2RlbCBUZXJtaW5hbClcbiAqIFxuICogLSBBYnJlIGFib3V0OmJsYW5rXG4gKiAtIElueWVjdGEgSFRNTCBjb24gVGFpbHdpbmQgQ1NTXG4gKiAtIENvbmVjdGEgYWwgU2hhcmVkV29ya2VyIGV4aXN0ZW50ZVxuICogLSBEaXNlw7FvIElEw4lOVElDTyBhbCBzY2FubmVyIG9yaWdpbmFsXG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBTY2FubmVyV2luZG93RGF0YSB7XG4gIGxpc3ROYW1lOiBzdHJpbmc7XG4gIGNhdGVnb3J5TmFtZTogc3RyaW5nO1xuICB3c1VybDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdpbmRvd0NvbmZpZyB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHdpZHRoPzogbnVtYmVyO1xuICBoZWlnaHQ/OiBudW1iZXI7XG4gIGNlbnRlcmVkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5TY2FubmVyV2luZG93KFxuICBkYXRhOiBTY2FubmVyV2luZG93RGF0YSxcbiAgY29uZmlnOiBXaW5kb3dDb25maWdcbik6IFdpbmRvdyB8IG51bGwge1xuICBjb25zdCB7XG4gICAgd2lkdGggPSAxNDAwLFxuICAgIGhlaWdodCA9IDkwMCxcbiAgICBjZW50ZXJlZCA9IHRydWUsXG4gIH0gPSBjb25maWc7XG5cbiAgY29uc3QgbGVmdCA9IGNlbnRlcmVkID8gKHdpbmRvdy5zY3JlZW4ud2lkdGggLSB3aWR0aCkgLyAyIDogMTAwO1xuICBjb25zdCB0b3AgPSBjZW50ZXJlZCA/ICh3aW5kb3cuc2NyZWVuLmhlaWdodCAtIGhlaWdodCkgLyAyIDogMTAwO1xuXG4gIGNvbnN0IHdpbmRvd0ZlYXR1cmVzID0gW1xuICAgIGB3aWR0aD0ke3dpZHRofWAsXG4gICAgYGhlaWdodD0ke2hlaWdodH1gLFxuICAgIGBsZWZ0PSR7bGVmdH1gLFxuICAgIGB0b3A9JHt0b3B9YCxcbiAgICAncmVzaXphYmxlPXllcycsXG4gICAgJ3Njcm9sbGJhcnM9eWVzJyxcbiAgICAnc3RhdHVzPXllcycsXG4gIF0uam9pbignLCcpO1xuXG4gIGNvbnN0IG5ld1dpbmRvdyA9IHdpbmRvdy5vcGVuKCdhYm91dDpibGFuaycsICdfYmxhbmsnLCB3aW5kb3dGZWF0dXJlcyk7XG5cbiAgaWYgKCFuZXdXaW5kb3cpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgV2luZG93IGJsb2NrZWQnKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGluamVjdFNjYW5uZXJDb250ZW50KG5ld1dpbmRvdywgZGF0YSwgY29uZmlnKTtcblxuICByZXR1cm4gbmV3V2luZG93O1xufVxuXG5mdW5jdGlvbiBpbmplY3RTY2FubmVyQ29udGVudChcbiAgdGFyZ2V0V2luZG93OiBXaW5kb3csXG4gIGRhdGE6IFNjYW5uZXJXaW5kb3dEYXRhLFxuICBjb25maWc6IFdpbmRvd0NvbmZpZ1xuKTogdm9pZCB7XG4gIGNvbnN0IHsgdGl0bGUgfSA9IGNvbmZpZztcblxuICBjb25zdCBodG1sQ29udGVudCA9IGBcbjwhRE9DVFlQRSBodG1sPlxuPGh0bWwgbGFuZz1cImVzXCI+XG48aGVhZD5cbiAgPG1ldGEgY2hhcnNldD1cIlVURi04XCI+XG4gIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCI+XG4gIDx0aXRsZT4ke3RpdGxlfTwvdGl0bGU+XG4gIFxuICA8IS0tIFRhaWx3aW5kIENTUyAobWlzbW8gcXVlIHNjYW5uZXIpIC0tPlxuICA8c2NyaXB0IHNyYz1cImh0dHBzOi8vY2RuLnRhaWx3aW5kY3NzLmNvbVwiPjwvc2NyaXB0PlxuPC9oZWFkPlxuPGJvZHkgY2xhc3M9XCJiZy13aGl0ZSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgPGRpdiBpZD1cInJvb3RcIiBjbGFzcz1cImgtc2NyZWVuIGZsZXggZmxleC1jb2xcIj5cbiAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC1mdWxsIGJnLXNsYXRlLTUwXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC0xNCB3LTE0IGJvcmRlci1iLTQgYm9yZGVyLWJsdWUtNjAwIG14LWF1dG8gbWItNFwiPjwvZGl2PlxuICAgICAgICA8cCBjbGFzcz1cInRleHQtc2xhdGUtOTAwIGZvbnQtc2VtaWJvbGQgdGV4dC1iYXNlXCI+Q29uZWN0YW5kby4uLjwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNsYXRlLTYwMCB0ZXh0LXNtIG10LTJcIj5Fc3RhYmxlY2llbmRvIGNvbmV4acOzbiBXZWJTb2NrZXQ8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5cbiAgPHNjcmlwdD5cbiAgICBjb25zdCBDT05GSUcgPSAke0pTT04uc3RyaW5naWZ5KGRhdGEpfTtcbiAgICBcbiAgICBsZXQgc2hhcmVkV29ya2VyID0gbnVsbDtcbiAgICBsZXQgd29ya2VyUG9ydCA9IG51bGw7XG4gICAgbGV0IGlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgbGV0IHRpY2tlcnNEYXRhID0gbmV3IE1hcCgpO1xuICAgIGxldCB0aWNrZXJPcmRlciA9IFtdO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5qAIFtTY2FubmVyIFdpbmRvd10gSW5pdDonLCBDT05GSUcubGlzdE5hbWUpO1xuICAgIFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFdFQlNPQ0tFVCAoU2hhcmVkV29ya2VyKVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGZ1bmN0aW9uIGluaXRXZWJTb2NrZXQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzaGFyZWRXb3JrZXIgPSBuZXcgU2hhcmVkV29ya2VyKCcvd29ya2Vycy93ZWJzb2NrZXQtc2hhcmVkLmpzJywge1xuICAgICAgICAgIG5hbWU6ICd0cmFkZXVsLXdlYnNvY2tldCdcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICB3b3JrZXJQb3J0ID0gc2hhcmVkV29ya2VyLnBvcnQ7XG4gICAgICAgIFxuICAgICAgICB3b3JrZXJQb3J0Lm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgIGNvbnN0IG1zZyA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgXG4gICAgICAgICAgc3dpdGNoIChtc2cudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnbWVzc2FnZSc6XG4gICAgICAgICAgICAgIGhhbmRsZVdlYlNvY2tldE1lc3NhZ2UobXNnLmRhdGEpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3N0YXR1cyc6XG4gICAgICAgICAgICAgIGlzQ29ubmVjdGVkID0gbXNnLmlzQ29ubmVjdGVkO1xuICAgICAgICAgICAgICB1cGRhdGVDb25uZWN0aW9uU3RhdHVzKG1zZy5pc0Nvbm5lY3RlZCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAobXNnLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgd29ya2VyUG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICBhY3Rpb246ICdzdWJzY3JpYmVfbGlzdCcsXG4gICAgICAgICAgICAgICAgICBsaXN0OiBDT05GSUcubGlzdE5hbWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFN1YnNjcmliZWQ6JywgQ09ORklHLmxpc3ROYW1lKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICB3b3JrZXJQb3J0LnN0YXJ0KCk7XG4gICAgICAgIFxuICAgICAgICB3b3JrZXJQb3J0LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICBhY3Rpb246ICdjb25uZWN0JyxcbiAgICAgICAgICB1cmw6IENPTkZJRy53c1VybFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gaGFuZGxlV2ViU29ja2V0TWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAgICBjYXNlICdzbmFwc2hvdCc6XG4gICAgICAgICAgaWYgKG1lc3NhZ2UubGlzdCA9PT0gQ09ORklHLmxpc3ROYW1lKSB7XG4gICAgICAgICAgICBoYW5kbGVTbmFwc2hvdChtZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RlbHRhJzpcbiAgICAgICAgICBpZiAobWVzc2FnZS5saXN0ID09PSBDT05GSUcubGlzdE5hbWUpIHtcbiAgICAgICAgICAgIGhhbmRsZURlbHRhKG1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYWdncmVnYXRlJzpcbiAgICAgICAgICBoYW5kbGVBZ2dyZWdhdGUobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGhhbmRsZVNuYXBzaG90KHNuYXBzaG90KSB7XG4gICAgICBjb25zdCByb3dzID0gc25hcHNob3Qucm93cyB8fCBbXTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5O4IFNuYXBzaG90OicsIHJvd3MubGVuZ3RoLCAndGlja2VycycpO1xuICAgICAgXG4gICAgICB0aWNrZXJzRGF0YS5jbGVhcigpO1xuICAgICAgdGlja2VyT3JkZXIgPSBbXTtcbiAgICAgIFxuICAgICAgcm93cy5mb3JFYWNoKHRpY2tlciA9PiB7XG4gICAgICAgIHRpY2tlcnNEYXRhLnNldCh0aWNrZXIuc3ltYm9sLCB0aWNrZXIpO1xuICAgICAgICB0aWNrZXJPcmRlci5wdXNoKHRpY2tlci5zeW1ib2wpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJlbmRlclRhYmxlKCk7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGhhbmRsZURlbHRhKGRlbHRhKSB7XG4gICAgICBpZiAoIWRlbHRhLmFjdGlvbnMpIHJldHVybjtcbiAgICAgIFxuICAgICAgbGV0IG5lZWRzUmVuZGVyID0gZmFsc2U7XG4gICAgICBcbiAgICAgIGRlbHRhLmFjdGlvbnMuZm9yRWFjaChhY3Rpb24gPT4ge1xuICAgICAgICBzd2l0Y2ggKGFjdGlvbi5hY3Rpb24pIHtcbiAgICAgICAgICBjYXNlICdhZGQnOlxuICAgICAgICAgICAgaWYgKGFjdGlvbi5kYXRhKSB7XG4gICAgICAgICAgICAgIHRpY2tlcnNEYXRhLnNldChhY3Rpb24uc3ltYm9sLCBhY3Rpb24uZGF0YSk7XG4gICAgICAgICAgICAgIGlmICghdGlja2VyT3JkZXIuaW5jbHVkZXMoYWN0aW9uLnN5bWJvbCkpIHtcbiAgICAgICAgICAgICAgICB0aWNrZXJPcmRlci5zcGxpY2UoYWN0aW9uLnJhbmsgPz8gdGlja2VyT3JkZXIubGVuZ3RoLCAwLCBhY3Rpb24uc3ltYm9sKTtcbiAgICAgICAgICAgICAgICBuZWVkc1JlbmRlciA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3JlbW92ZSc6XG4gICAgICAgICAgICB0aWNrZXJzRGF0YS5kZWxldGUoYWN0aW9uLnN5bWJvbCk7XG4gICAgICAgICAgICB0aWNrZXJPcmRlciA9IHRpY2tlck9yZGVyLmZpbHRlcihzID0+IHMgIT09IGFjdGlvbi5zeW1ib2wpO1xuICAgICAgICAgICAgbmVlZHNSZW5kZXIgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndXBkYXRlJzpcbiAgICAgICAgICAgIGlmIChhY3Rpb24uZGF0YSkge1xuICAgICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IHRpY2tlcnNEYXRhLmdldChhY3Rpb24uc3ltYm9sKTtcbiAgICAgICAgICAgICAgdGlja2Vyc0RhdGEuc2V0KGFjdGlvbi5zeW1ib2wsIHsgLi4uZXhpc3RpbmcsIC4uLmFjdGlvbi5kYXRhIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAncmVyYW5rJzpcbiAgICAgICAgICAgIHRpY2tlck9yZGVyID0gdGlja2VyT3JkZXIuZmlsdGVyKHMgPT4gcyAhPT0gYWN0aW9uLnN5bWJvbCk7XG4gICAgICAgICAgICB0aWNrZXJPcmRlci5zcGxpY2UoYWN0aW9uLm5ld19yYW5rLCAwLCBhY3Rpb24uc3ltYm9sKTtcbiAgICAgICAgICAgIG5lZWRzUmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKG5lZWRzUmVuZGVyKSByZW5kZXJUYWJsZSgpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBoYW5kbGVBZ2dyZWdhdGUoYWdncmVnYXRlKSB7XG4gICAgICBpZiAoIWFnZ3JlZ2F0ZS5zeW1ib2wgfHwgIWFnZ3JlZ2F0ZS5kYXRhKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IHRpY2tlciA9IHRpY2tlcnNEYXRhLmdldChhZ2dyZWdhdGUuc3ltYm9sKTtcbiAgICAgIGlmICghdGlja2VyKSByZXR1cm47XG4gICAgICBcbiAgICAgIHRpY2tlci5wcmljZSA9IGFnZ3JlZ2F0ZS5kYXRhLmNsb3NlID8/IHRpY2tlci5wcmljZTtcbiAgICAgIFxuICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXFxgI3Jvdy1cXCR7YWdncmVnYXRlLnN5bWJvbH0gLnByaWNlLWNlbGxcXGApO1xuICAgICAgaWYgKGNlbGwpIGNlbGwudGV4dENvbnRlbnQgPSBmb3JtYXRQcmljZSh0aWNrZXIucHJpY2UpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiB1cGRhdGVDb25uZWN0aW9uU3RhdHVzKGNvbm5lY3RlZCkge1xuICAgICAgY29uc3QgZG90ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1cy1kb3QnKTtcbiAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzLXRleHQnKTtcbiAgICAgIFxuICAgICAgaWYgKGRvdCkge1xuICAgICAgICBkb3QuY2xhc3NOYW1lID0gY29ubmVjdGVkIFxuICAgICAgICAgID8gJ3ctMS41IGgtMS41IHJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTUwMCcgXG4gICAgICAgICAgOiAndy0xLjUgaC0xLjUgcm91bmRlZC1mdWxsIGJnLXNsYXRlLTMwMCc7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgIHRleHQudGV4dENvbnRlbnQgPSBjb25uZWN0ZWQgPyAnTGl2ZScgOiAnT2ZmbGluZSc7XG4gICAgICAgIHRleHQuY2xhc3NOYW1lID0gY29ubmVjdGVkXG4gICAgICAgICAgPyAndGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgIDogJ3RleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBSRU5ERVIgKGNsYXNlcyBUYWlsd2luZCBJRMOJTlRJQ0FTIGFsIHNjYW5uZXIpXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgZnVuY3Rpb24gcmVuZGVyVGFibGUoKSB7XG4gICAgICBjb25zdCB0aWNrZXJzID0gdGlja2VyT3JkZXIubWFwKHMgPT4gdGlja2Vyc0RhdGEuZ2V0KHMpKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICBcbiAgICAgIGlmICh0aWNrZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpLmlubmVySFRNTCA9IFxcYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJoLXNjcmVlbiBmbGV4IGZsZXgtY29sIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB4LTMgcHktMiBiZy13aGl0ZSBib3JkZXItYi0yIGJvcmRlci1ibHVlLTUwMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTEgaC02IGJnLWJsdWUtNTAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwidGV4dC1iYXNlIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPlxcJHtDT05GSUcuY2F0ZWdvcnlOYW1lfTwvaDI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJzdGF0dXMtZG90XCIgY2xhc3M9XCJ3LTEuNSBoLTEuNSByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMzAwXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBpZD1cInN0YXR1cy10ZXh0XCIgY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNTAwXCI+Q29uZWN0YW5kbzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgcHgtMiBweS0wLjUgYmctYmx1ZS01MCByb3VuZGVkIGJvcmRlciBib3JkZXItYmx1ZS0yMDBcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtYmx1ZS02MDBcIj4wPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+dGlja2Vyczwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctc2xhdGUtNTBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNsYXRlLTUwMFwiPk5vIGhheSBkYXRvcyBkaXNwb25pYmxlczwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBcXGA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgaHRtbCA9IFxcYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiaC1zY3JlZW4gZmxleCBmbGV4LWNvbCBiZy13aGl0ZVwiPlxuICAgICAgICAgIDwhLS0gSGVhZGVyIChJRMOJTlRJQ08gYSBNYXJrZXRUYWJsZUxheW91dCkgLS0+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweC0zIHB5LTIgYmctd2hpdGUgYm9yZGVyLWItMiBib3JkZXItYmx1ZS01MDBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0xIGgtNiBiZy1ibHVlLTUwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJ0ZXh0LWJhc2UgZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwIHRyYWNraW5nLXRpZ2h0XCI+XFwke0NPTkZJRy5jYXRlZ29yeU5hbWV9PC9oMj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJzdGF0dXMtZG90XCIgY2xhc3M9XCJ3LTEuNSBoLTEuNSByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMzAwXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJzdGF0dXMtdGV4dFwiIGNsYXNzPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTUwMFwiPk9mZmxpbmU8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHB4LTIgcHktMC41IGJnLWJsdWUtNTAgcm91bmRlZCBib3JkZXIgYm9yZGVyLWJsdWUtMjAwXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1ibHVlLTYwMFwiPlxcJHt0aWNrZXJzLmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+dGlja2Vyczwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgdGV4dC14c1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc2xhdGUtNTAwXCI+VXBkYXRlZDwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJ0aW1lc3RhbXBcIiBjbGFzcz1cImZvbnQtbW9ubyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTcwMFwiPlxcJHtuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDwhLS0gVGFibGUgQ29udGFpbmVyIC0tPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgb3ZlcmZsb3ctYXV0byBiZy13aGl0ZVwiPlxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwidy1mdWxsIGJvcmRlci1jb2xsYXBzZVwiPlxuICAgICAgICAgICAgICA8dGhlYWQgY2xhc3M9XCJiZy1zbGF0ZS01MCBib3JkZXItYiBib3JkZXItc2xhdGUtMjAwIHN0aWNreSB0b3AtMCB6LTEwXCI+XG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwicHgtMyBweS0zIHRleHQtY2VudGVyIHRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIiBzdHlsZT1cIndpZHRoOjQwcHhcIj4jPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInB4LTMgcHktMyB0ZXh0LWxlZnQgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNjAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiIHN0eWxlPVwid2lkdGg6NzVweFwiPlN5bWJvbDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJweC0zIHB5LTMgdGV4dC1yaWdodCB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyXCIgc3R5bGU9XCJ3aWR0aDo4MHB4XCI+UHJpY2U8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwicHgtMyBweS0zIHRleHQtcmlnaHQgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNjAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiIHN0eWxlPVwid2lkdGg6ODVweFwiPkdhcCAlPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInB4LTMgcHktMyB0ZXh0LXJpZ2h0IHRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIiBzdHlsZT1cIndpZHRoOjkwcHhcIj5Wb2x1bWU8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwicHgtMyBweS0zIHRleHQtcmlnaHQgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNjAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiIHN0eWxlPVwid2lkdGg6NzBweFwiPlJWT0w8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwicHgtMyBweS0zIHRleHQtcmlnaHQgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNjAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiIHN0eWxlPVwid2lkdGg6MTAwcHhcIj5NYXJrZXQgQ2FwPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInB4LTMgcHktMyB0ZXh0LXJpZ2h0IHRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIiBzdHlsZT1cIndpZHRoOjkwcHhcIj5GbG9hdDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJweC0zIHB5LTMgdGV4dC1yaWdodCB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyXCIgc3R5bGU9XCJ3aWR0aDo3MHB4XCI+QVRSJTwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJweC0zIHB5LTMgdGV4dC1yaWdodCB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyXCIgc3R5bGU9XCJ3aWR0aDo4NXB4XCI+QVRSIFVzZWQ8L3RoPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICAgIDx0Ym9keSBjbGFzcz1cImRpdmlkZS15IGRpdmlkZS1zbGF0ZS0xMDAgYmctd2hpdGVcIj5cbiAgICAgICAgICAgICAgICBcXCR7dGlja2Vycy5tYXAoKHRpY2tlciwgaW5kZXgpID0+IHJlbmRlclJvdyh0aWNrZXIsIGluZGV4ICsgMSkpLmpvaW4oJycpfVxuICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBcXGA7XG4gICAgICBcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykuaW5uZXJIVE1MID0gaHRtbDtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gcmVuZGVyUm93KHRpY2tlciwgcmFuaykge1xuICAgICAgY29uc3QgZ2FwUGVyY2VudCA9IHRpY2tlci5jaGFuZ2VfcGVyY2VudCA/PyB0aWNrZXIuZ2FwX3BlcmNlbnQgPz8gMDtcbiAgICAgIGNvbnN0IGlzUG9zaXRpdmUgPSBnYXBQZXJjZW50ID49IDA7XG4gICAgICBjb25zdCB2b2x1bWUgPSB0aWNrZXIudm9sdW1lX3RvZGF5ID8/IHRpY2tlci52b2x1bWUgPz8gMDtcbiAgICAgIGNvbnN0IHJ2b2wgPSB0aWNrZXIucnZvbF9zbG90ID8/IHRpY2tlci5ydm9sID8/IDA7XG4gICAgICBcbiAgICAgIGxldCBydm9sQ29sb3IgPSAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgaWYgKHJ2b2wgPiAzKSBydm9sQ29sb3IgPSAndGV4dC1ibHVlLTcwMCc7XG4gICAgICBlbHNlIGlmIChydm9sID4gMS41KSBydm9sQ29sb3IgPSAndGV4dC1ibHVlLTYwMCc7XG4gICAgICBcbiAgICAgIHJldHVybiBcXGBcbiAgICAgICAgPHRyIGlkPVwicm93LVxcJHt0aWNrZXIuc3ltYm9sfVwiIGNsYXNzPVwiaG92ZXI6Ymctc2xhdGUtNTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwIGJvcmRlci1iIGJvcmRlci1zbGF0ZS0xMDBcIj5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC0zIHB5LTIuNSB0ZXh0LWNlbnRlciBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNDAwXCI+XFwke3Jhbmt9PC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC0zIHB5LTIuNVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LWJsdWUtNjAwXCI+XFwke3RpY2tlci5zeW1ib2x9PC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC0zIHB5LTIuNSB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJpY2UtY2VsbCBmb250LW1vbm8gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPlxcJHtmb3JtYXRQcmljZSh0aWNrZXIucHJpY2UpfTwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtMyBweS0yLjUgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtbW9ubyBmb250LXNlbWlib2xkIFxcJHtpc1Bvc2l0aXZlID8gJ3RleHQtZW1lcmFsZC02MDAnIDogJ3RleHQtcm9zZS02MDAnfVwiPlxcJHtmb3JtYXRQZXJjZW50KGdhcFBlcmNlbnQpfTwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtMyBweS0yLjUgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtbW9ubyB0ZXh0LXNsYXRlLTcwMCBmb250LW1lZGl1bVwiPlxcJHtmb3JtYXROdW1iZXIodm9sdW1lKX08L2Rpdj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTMgcHktMi41IHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb250LW1vbm8gZm9udC1zZW1pYm9sZCBcXCR7cnZvbENvbG9yfVwiPlxcJHtmb3JtYXRSVk9MKHJ2b2wpfTwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtMyBweS0yLjUgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtbW9ubyB0ZXh0LXNsYXRlLTYwMFwiPlxcJHtmb3JtYXROdW1iZXIodGlja2VyLm1hcmtldF9jYXApfTwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtMyBweS0yLjUgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtbW9ubyB0ZXh0LXNsYXRlLTYwMFwiPlxcJHtmb3JtYXROdW1iZXIodGlja2VyLmZsb2F0X3NoYXJlcyl9PC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgIFxcYDtcbiAgICB9XG4gICAgXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gRk9STUFUVEVSUyAoaWTDqW50aWNvcyBhbCBzY2FubmVyKVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGZ1bmN0aW9uIGZvcm1hdFByaWNlKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCBpc05hTih2YWx1ZSkpIHJldHVybiAnLSc7XG4gICAgICBpZiAodmFsdWUgPj0gMTAwMCkgcmV0dXJuIFxcYCRcXCR7dmFsdWUudG9GaXhlZCgyKX1cXGA7XG4gICAgICBpZiAodmFsdWUgPj0gMSkgcmV0dXJuIFxcYCRcXCR7dmFsdWUudG9GaXhlZCgyKX1cXGA7XG4gICAgICBpZiAodmFsdWUgPj0gMC4wMSkgcmV0dXJuIFxcYCRcXCR7dmFsdWUudG9GaXhlZCgzKX1cXGA7XG4gICAgICByZXR1cm4gXFxgJFxcJHt2YWx1ZS50b0ZpeGVkKDQpfVxcYDtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gZm9ybWF0UGVyY2VudCh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgaXNOYU4odmFsdWUpKSByZXR1cm4gJy0nO1xuICAgICAgY29uc3Qgc2lnbiA9IHZhbHVlID4gMCA/ICcrJyA6ICcnO1xuICAgICAgcmV0dXJuIFxcYFxcJHtzaWdufVxcJHt2YWx1ZS50b0ZpeGVkKDIpfSVcXGA7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGZvcm1hdE51bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgaXNOYU4odmFsdWUpKSByZXR1cm4gJy0nO1xuICAgICAgaWYgKHZhbHVlID49IDFlOSkgcmV0dXJuIFxcYFxcJHsodmFsdWUgLyAxZTkpLnRvRml4ZWQoMil9QlxcYDtcbiAgICAgIGlmICh2YWx1ZSA+PSAxZTYpIHJldHVybiBcXGBcXCR7KHZhbHVlIC8gMWU2KS50b0ZpeGVkKDIpfU1cXGA7XG4gICAgICBpZiAodmFsdWUgPj0gMWUzKSByZXR1cm4gXFxgXFwkeyh2YWx1ZSAvIDFlMykudG9GaXhlZCgyKX1LXFxgO1xuICAgICAgcmV0dXJuIHZhbHVlLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBmb3JtYXRSVk9MKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCBpc05hTih2YWx1ZSkpIHJldHVybiAnLSc7XG4gICAgICByZXR1cm4gXFxgXFwke3ZhbHVlLnRvRml4ZWQoMil9eFxcYDtcbiAgICB9XG4gICAgXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gSU5JVFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGluaXRXZWJTb2NrZXQoKTtcbiAgICBjb25zb2xlLmxvZygn4pyFIEluaXRpYWxpemVkJyk7XG4gIDwvc2NyaXB0PlxuPC9ib2R5PlxuPC9odG1sPlxuICBgO1xuXG4gIHRhcmdldFdpbmRvdy5kb2N1bWVudC5vcGVuKCk7XG4gIHRhcmdldFdpbmRvdy5kb2N1bWVudC53cml0ZShodG1sQ29udGVudCk7XG4gIHRhcmdldFdpbmRvdy5kb2N1bWVudC5jbG9zZSgpO1xuXG4gIGNvbnNvbGUubG9nKCfinIUgW1dpbmRvd0luamVjdG9yXSBJbmplY3RlZCcpO1xufVxuIl0sIm5hbWVzIjpbIm9wZW5TY2FubmVyV2luZG93IiwiZGF0YSIsImNvbmZpZyIsIndpZHRoIiwiaGVpZ2h0IiwiY2VudGVyZWQiLCJsZWZ0Iiwid2luZG93Iiwic2NyZWVuIiwidG9wIiwid2luZG93RmVhdHVyZXMiLCJqb2luIiwibmV3V2luZG93Iiwib3BlbiIsImNvbnNvbGUiLCJlcnJvciIsImluamVjdFNjYW5uZXJDb250ZW50IiwidGFyZ2V0V2luZG93IiwidGl0bGUiLCJodG1sQ29udGVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkb2N1bWVudCIsIndyaXRlIiwiY2xvc2UiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/window-injector.ts\n"));

/***/ })

});