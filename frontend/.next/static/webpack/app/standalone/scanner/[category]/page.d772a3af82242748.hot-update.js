"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/standalone/scanner/[category]/page",{

/***/ "(app-pages-browser)/./lib/window-injector.ts":
/*!********************************!*\
  !*** ./lib/window-injector.ts ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   openScannerWindow: function() { return /* binding */ openScannerWindow; }\n/* harmony export */ });\n/**\n * Sistema de Ventanas Inyectadas para Scanner (Patrón Godel Terminal)\n * \n * - Abre about:blank\n * - Inyecta HTML con Tailwind CSS\n * - Conecta al SharedWorker existente\n * - Diseño IDÉNTICO al scanner original\n */ function openScannerWindow(data, config) {\n    const { width = 1400, height = 900, centered = true } = config;\n    const left = centered ? (window.screen.width - width) / 2 : 100;\n    const top = centered ? (window.screen.height - height) / 2 : 100;\n    const windowFeatures = [\n        \"width=\".concat(width),\n        \"height=\".concat(height),\n        \"left=\".concat(left),\n        \"top=\".concat(top),\n        \"resizable=yes\",\n        \"scrollbars=yes\",\n        \"status=yes\"\n    ].join(\",\");\n    const newWindow = window.open(\"about:blank\", \"_blank\", windowFeatures);\n    if (!newWindow) {\n        console.error(\"❌ Window blocked\");\n        return null;\n    }\n    injectScannerContent(newWindow, data, config);\n    return newWindow;\n}\nfunction injectScannerContent(targetWindow, data, config) {\n    const { title } = config;\n    const htmlContent = '\\n<!DOCTYPE html>\\n<html lang=\"es\">\\n<head>\\n  <meta charset=\"UTF-8\">\\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\\n  <title>'.concat(title, '</title>\\n  \\n  <!-- Fuentes EXACTAS del proyecto -->\\n  <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\\n  <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\\n  <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap\" rel=\"stylesheet\">\\n  \\n  <!-- Tailwind CSS con configuraci\\xf3n personalizada -->\\n  <script src=\"https://cdn.tailwindcss.com\"></script>\\n  <script>\\n    tailwind.config = {\\n      theme: {\\n        extend: {\\n          fontFamily: {\\n            sans: [\\'Inter\\', \\'sans-serif\\'],\\n            mono: [\\'JetBrains Mono\\', \\'monospace\\']\\n          },\\n          colors: {\\n            background: \\'#FFFFFF\\',\\n            foreground: \\'#0F172A\\',\\n            primary: {\\n              DEFAULT: \\'#2563EB\\',\\n              hover: \\'#1D4ED8\\'\\n            },\\n            border: \\'#E2E8F0\\',\\n            muted: \\'#F8FAFC\\',\\n            success: \\'#10B981\\',\\n            danger: \\'#EF4444\\'\\n          }\\n        }\\n      }\\n    }\\n  </script>\\n  \\n  <style>\\n    /* CSS Global EXACTO del proyecto */\\n    * {\\n      -webkit-font-smoothing: antialiased;\\n      -moz-osx-font-smoothing: grayscale;\\n    }\\n    \\n    body {\\n      font-family: Inter, sans-serif;\\n      color: #171717;\\n      background: #ffffff;\\n    }\\n    \\n    /* Estilos de tabla EXACTOS */\\n    table {\\n      color: #171717 !important;\\n    }\\n    \\n    table td, table th {\\n      color: inherit !important;\\n      transition: width 0.1s ease-out, background-color 0.15s ease;\\n    }\\n    \\n    /* Font-mono con configuraci\\xf3n EXACTA */\\n    .font-mono {\\n      font-family: \\'JetBrains Mono\\', monospace !important;\\n      color: #0f172a !important;\\n      font-weight: 500;\\n    }\\n    \\n    /* Scrollbar personalizada */\\n    *::-webkit-scrollbar {\\n      width: 8px;\\n      height: 8px;\\n    }\\n    \\n    *::-webkit-scrollbar-track {\\n      background: #f1f5f9;\\n      border-left: 1px solid #e2e8f0;\\n    }\\n    \\n    *::-webkit-scrollbar-thumb {\\n      background: #cbd5e1;\\n      transition: background 0.2s;\\n    }\\n    \\n    *::-webkit-scrollbar-thumb:hover {\\n      background: #3b82f6;\\n    }\\n    \\n    /* Header sticky con sombra */\\n    .sticky-header {\\n      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\\n      backdrop-filter: blur(10px);\\n      background-color: rgba(255, 255, 255, 0.98);\\n    }\\n  </style>\\n</head>\\n<body class=\"bg-white overflow-hidden font-sans\">\\n  <div id=\"root\" class=\"h-screen flex flex-col\">\\n    <div class=\"flex items-center justify-center h-full bg-slate-50\">\\n      <div class=\"text-center\">\\n        <div class=\"animate-spin rounded-full h-14 w-14 border-b-4 border-blue-600 mx-auto mb-4\"></div>\\n        <p class=\"text-slate-900 font-semibold text-base\">Conectando...</p>\\n        <p class=\"text-slate-600 text-sm mt-2\">Estableciendo conexi\\xf3n WebSocket</p>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <script>\\n    const CONFIG = ').concat(JSON.stringify(data), ';\\n    \\n    let sharedWorker = null;\\n    let workerPort = null;\\n    let isConnected = false;\\n    let tickersData = new Map();\\n    let tickerOrder = [];\\n    \\n    // Estado de ordenamiento\\n    let sortColumn = null;\\n    let sortDirection = \\'desc\\'; // \\'asc\\' o \\'desc\\'\\n    \\n    console.log(\\'\\uD83D\\uDE80 [Scanner Window] Init:\\', CONFIG.listName);\\n    \\n    // ============================================================\\n    // WEBSOCKET (SharedWorker)\\n    // ============================================================\\n    function initWebSocket() {\\n      try {\\n        console.log(\\'\\uD83D\\uDD0C [Scanner Window] Connecting to SharedWorker:\\', CONFIG.workerUrl);\\n        \\n        sharedWorker = new SharedWorker(CONFIG.workerUrl, {\\n          name: \\'tradeul-websocket\\'\\n        });\\n        \\n        workerPort = sharedWorker.port;\\n        \\n        workerPort.onmessage = (event) => {\\n          const msg = event.data;\\n          console.log(\\'\\uD83D\\uDCE8 [Scanner Window] Message from worker:\\', msg.type, msg);\\n          \\n          switch (msg.type) {\\n            case \\'message\\':\\n              handleWebSocketMessage(msg.data);\\n              break;\\n            case \\'status\\':\\n              console.log(\\'\\uD83D\\uDD0C [Scanner Window] Connection status:\\', msg.isConnected ? \\'ONLINE ✅\\' : \\'OFFLINE ❌\\');\\n              updateConnectionStatus(msg.isConnected);\\n              \\n              // Re-renderizar para actualizar el status en el header\\n              if (tickersData.size > 0) {\\n                renderTable();\\n              }\\n              \\n              if (msg.isConnected) {\\n                console.log(\\'\\uD83D\\uDCE1 [Scanner Window] Subscribing to list:\\', CONFIG.listName);\\n                workerPort.postMessage({\\n                  action: \\'subscribe_list\\',\\n                  list: CONFIG.listName\\n                });\\n                console.log(\\'✅ [Scanner Window] Subscription sent\\');\\n              }\\n              break;\\n          }\\n        };\\n        \\n        workerPort.start();\\n        console.log(\\'✅ [Scanner Window] Worker port started\\');\\n        \\n        // Escuchar errores del worker\\n        sharedWorker.onerror = (error) => {\\n          console.error(\\'❌ [Scanner Window] SharedWorker error:\\', error);\\n        };\\n        \\n        workerPort.postMessage({\\n          action: \\'connect\\',\\n          url: CONFIG.wsUrl\\n        });\\n        console.log(\\'\\uD83D\\uDCE1 [Scanner Window] Connect message sent to worker\\');\\n        \\n      } catch (error) {\\n        console.error(\\'❌ [Scanner Window] Failed to initialize WebSocket:\\', error);\\n      }\\n    }\\n    \\n    function handleWebSocketMessage(message) {\\n      switch (message.type) {\\n        case \\'snapshot\\':\\n          if (message.list === CONFIG.listName) {\\n            handleSnapshot(message);\\n          }\\n          break;\\n        case \\'delta\\':\\n          if (message.list === CONFIG.listName) {\\n            handleDelta(message);\\n          }\\n          break;\\n        case \\'aggregate\\':\\n          handleAggregate(message);\\n          break;\\n      }\\n    }\\n    \\n    function handleSnapshot(snapshot) {\\n      const rows = snapshot.rows || [];\\n      console.log(\\'\\uD83D\\uDCF8 Snapshot:\\', rows.length, \\'tickers\\');\\n      \\n      tickersData.clear();\\n      tickerOrder = [];\\n      \\n      rows.forEach(ticker => {\\n        tickersData.set(ticker.symbol, ticker);\\n        tickerOrder.push(ticker.symbol);\\n      });\\n      \\n      renderTable();\\n    }\\n    \\n    function handleDelta(delta) {\\n      if (!delta.actions) return;\\n      \\n      let needsRender = false;\\n      \\n      delta.actions.forEach(action => {\\n        switch (action.action) {\\n          case \\'add\\':\\n            if (action.data) {\\n              tickersData.set(action.symbol, action.data);\\n              if (!tickerOrder.includes(action.symbol)) {\\n                tickerOrder.splice(action.rank ?? tickerOrder.length, 0, action.symbol);\\n                needsRender = true;\\n              }\\n            }\\n            break;\\n          case \\'remove\\':\\n            tickersData.delete(action.symbol);\\n            tickerOrder = tickerOrder.filter(s => s !== action.symbol);\\n            needsRender = true;\\n            break;\\n          case \\'update\\':\\n            if (action.data) {\\n              const existing = tickersData.get(action.symbol);\\n              tickersData.set(action.symbol, { ...existing, ...action.data });\\n            }\\n            break;\\n          case \\'rerank\\':\\n            tickerOrder = tickerOrder.filter(s => s !== action.symbol);\\n            tickerOrder.splice(action.new_rank, 0, action.symbol);\\n            needsRender = true;\\n            break;\\n        }\\n      });\\n      \\n      if (needsRender) renderTable();\\n    }\\n    \\n    function handleAggregate(aggregate) {\\n      if (!aggregate.symbol || !aggregate.data) return;\\n      \\n      const ticker = tickersData.get(aggregate.symbol);\\n      if (!ticker) return;\\n      \\n      ticker.price = aggregate.data.close ?? ticker.price;\\n      \\n      const cell = document.querySelector(`#row-${aggregate.symbol} .price-cell`);\\n      if (cell) cell.textContent = formatPrice(ticker.price);\\n    }\\n    \\n    function updateConnectionStatus(connected) {\\n      isConnected = connected;\\n      \\n      // Actualizar elementos si existen (antes de re-render)\\n      const dot = document.getElementById(\\'status-dot\\');\\n      const text = document.getElementById(\\'status-text\\');\\n      \\n      if (dot) {\\n        dot.className = connected \\n          ? \\'w-1.5 h-1.5 rounded-full bg-emerald-500\\' \\n          : \\'w-1.5 h-1.5 rounded-full bg-slate-300\\';\\n      }\\n      \\n      if (text) {\\n        text.textContent = connected ? \\'Live\\' : \\'Offline\\';\\n        text.className = connected\\n          ? \\'text-xs font-medium text-emerald-600\\'\\n          : \\'text-xs font-medium text-slate-500\\';\\n      }\\n    }\\n    \\n    // ============================================================\\n    // RENDER (clases Tailwind ID\\xc9NTICAS al scanner)\\n    // ============================================================\\n    function renderTable() {\\n      const tickers = tickerOrder.map(s => tickersData.get(s)).filter(Boolean);\\n      \\n      // Clases de status seg\\xfan conexi\\xf3n\\n      const statusDotClass = isConnected \\n        ? \\'w-1.5 h-1.5 rounded-full bg-emerald-500\\' \\n        : \\'w-1.5 h-1.5 rounded-full bg-slate-300\\';\\n      const statusTextClass = isConnected\\n        ? \\'text-xs font-medium text-emerald-600\\'\\n        : \\'text-xs font-medium text-slate-500\\';\\n      const statusText = isConnected ? \\'Live\\' : \\'Offline\\';\\n      \\n      if (tickers.length === 0) {\\n        document.getElementById(\\'root\\').innerHTML = `\\n          <div class=\"h-screen flex flex-col bg-white\">\\n            <div class=\"flex items-center justify-between px-3 py-2 bg-white border-b-2 border-blue-500\">\\n              <div class=\"flex items-center gap-4\">\\n                <div class=\"flex items-center gap-2\">\\n                  <div class=\"w-1 h-6 bg-blue-500 rounded-full\"></div>\\n                  <h2 class=\"text-base font-bold text-slate-900\">${CONFIG.categoryName}</h2>\\n                </div>\\n                <div class=\"flex items-center gap-1.5\">\\n                  <div id=\"status-dot\" class=\"${statusDotClass}\"></div>\\n                  <span id=\"status-text\" class=\"${statusTextClass}\">${statusText}</span>\\n                </div>\\n                <div class=\"flex items-center gap-1 px-2 py-0.5 bg-blue-50 rounded border border-blue-200\">\\n                  <span class=\"text-xs font-semibold text-blue-600\">0</span>\\n                  <span class=\"text-xs text-slate-600\">tickers</span>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\"flex-1 flex items-center justify-center bg-slate-50\">\\n              <p class=\"text-slate-500\">No hay datos disponibles</p>\\n            </div>\\n          </div>\\n        `;\\n        return;\\n      }\\n      \\n      const html = `\\n        <div class=\"h-screen flex flex-col bg-white\">\\n          <!-- Header (ID\\xc9NTICO a MarketTableLayout) -->\\n          <div class=\"flex items-center justify-between px-3 py-2 bg-white border-b-2 border-blue-500\">\\n            <div class=\"flex items-center gap-4\">\\n              <div class=\"flex items-center gap-2\">\\n                <div class=\"w-1 h-6 bg-blue-500 rounded-full\"></div>\\n                <h2 class=\"text-base font-bold text-slate-900 tracking-tight\">${CONFIG.categoryName}</h2>\\n              </div>\\n              \\n              <div class=\"flex items-center gap-1.5\">\\n                <div id=\"status-dot\" class=\"${statusDotClass}\"></div>\\n                <span id=\"status-text\" class=\"${statusTextClass}\">${statusText}</span>\\n              </div>\\n              \\n              <div class=\"flex items-center gap-1 px-2 py-0.5 bg-blue-50 rounded border border-blue-200\">\\n                <span class=\"text-xs font-semibold text-blue-600\">${tickers.length}</span>\\n                <span class=\"text-xs text-slate-600\">tickers</span>\\n              </div>\\n            </div>\\n            \\n            <div class=\"flex items-center gap-1.5 text-xs\">\\n              <span class=\"text-slate-500\">Updated</span>\\n              <span id=\"timestamp\" class=\"font-mono font-medium text-slate-700\">${new Date().toLocaleTimeString()}</span>\\n            </div>\\n          </div>\\n          \\n          <!-- Table Container -->\\n          <div class=\"flex-1 overflow-auto bg-white\">\\n            <table class=\"w-full border-collapse\">\\n              <thead class=\"bg-slate-50 border-b border-slate-200 sticky top-0 z-10\">\\n                <tr>\\n                  <th class=\"px-3 py-3 text-center text-xs font-semibold text-slate-600 uppercase tracking-wider\" style=\"width:40px\">#</th>\\n                  <th onclick=\"handleSort(\\'symbol\\')\" class=\"px-3 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider cursor-pointer hover:bg-slate-100 transition-colors\" style=\"width:75px\">\\n                    <div class=\"flex items-center gap-1\">\\n                      Symbol\\n                      <span class=\"sort-icon\">${getSortIcon(\\'symbol\\')}</span>\\n                    </div>\\n                  </th>\\n                  <th onclick=\"handleSort(\\'price\\')\" class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider cursor-pointer hover:bg-slate-100 transition-colors\" style=\"width:80px\">\\n                    <div class=\"flex items-center justify-end gap-1\">\\n                      Price\\n                      <span class=\"sort-icon\">${getSortIcon(\\'price\\')}</span>\\n                    </div>\\n                  </th>\\n                  <th onclick=\"handleSort(\\'change_percent\\')\" class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider cursor-pointer hover:bg-slate-100 transition-colors\" style=\"width:85px\">\\n                    <div class=\"flex items-center justify-end gap-1\">\\n                      Gap %\\n                      <span class=\"sort-icon\">${getSortIcon(\\'change_percent\\')}</span>\\n                    </div>\\n                  </th>\\n                  <th onclick=\"handleSort(\\'volume_today\\')\" class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider cursor-pointer hover:bg-slate-100 transition-colors\" style=\"width:90px\">\\n                    <div class=\"flex items-center justify-end gap-1\">\\n                      Volume\\n                      <span class=\"sort-icon\">${getSortIcon(\\'volume_today\\')}</span>\\n                    </div>\\n                  </th>\\n                  <th onclick=\"handleSort(\\'rvol\\')\" class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider cursor-pointer hover:bg-slate-100 transition-colors\" style=\"width:70px\">\\n                    <div class=\"flex items-center justify-end gap-1\">\\n                      RVOL\\n                      <span class=\"sort-icon\">${getSortIcon(\\'rvol\\')}</span>\\n                    </div>\\n                  </th>\\n                  <th onclick=\"handleSort(\\'market_cap\\')\" class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider cursor-pointer hover:bg-slate-100 transition-colors\" style=\"width:100px\">\\n                    <div class=\"flex items-center justify-end gap-1\">\\n                      Market Cap\\n                      <span class=\"sort-icon\">${getSortIcon(\\'market_cap\\')}</span>\\n                    </div>\\n                  </th>\\n                  <th onclick=\"handleSort(\\'float_shares\\')\" class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider cursor-pointer hover:bg-slate-100 transition-colors\" style=\"width:90px\">\\n                    <div class=\"flex items-center justify-end gap-1\">\\n                      Float\\n                      <span class=\"sort-icon\">${getSortIcon(\\'float_shares\\')}</span>\\n                    </div>\\n                  </th>\\n                  <th onclick=\"handleSort(\\'atr_percent\\')\" class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider cursor-pointer hover:bg-slate-100 transition-colors\" style=\"width:70px\">\\n                    <div class=\"flex items-center justify-end gap-1\">\\n                      ATR%\\n                      <span class=\"sort-icon\">${getSortIcon(\\'atr_percent\\')}</span>\\n                    </div>\\n                  </th>\\n                  <th onclick=\"handleSort(\\'atr_used\\')\" class=\"px-3 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider cursor-pointer hover:bg-slate-100 transition-colors\" style=\"width:85px\">\\n                    <div class=\"flex items-center justify-end gap-1\">\\n                      ATR Used\\n                      <span class=\"sort-icon\">${getSortIcon(\\'atr_used\\')}</span>\\n                    </div>\\n                  </th>\\n                </tr>\\n              </thead>\\n              <tbody class=\"divide-y divide-slate-100 bg-white\">\\n                ${tickers.map((ticker, index) => renderRow(ticker, index + 1)).join(\\'\\')}\\n              </tbody>\\n            </table>\\n          </div>\\n        </div>\\n      `;\\n      \\n      document.getElementById(\\'root\\').innerHTML = html;\\n    }\\n    \\n    function renderRow(ticker, rank) {\\n      const gapPercent = ticker.change_percent ?? ticker.gap_percent ?? 0;\\n      const isPositive = gapPercent >= 0;\\n      const volume = ticker.volume_today ?? ticker.volume ?? 0;\\n      const rvol = ticker.rvol_slot ?? ticker.rvol ?? 0;\\n      \\n      // RVOL color (igual que scanner)\\n      let rvolColor = \\'text-slate-500\\';\\n      if (rvol > 3) rvolColor = \\'text-blue-700\\';\\n      else if (rvol > 1.5) rvolColor = \\'text-blue-600\\';\\n      \\n      // ATR% (igual que scanner)\\n      const atrPercent = ticker.atr_percent;\\n      let atrPercentHtml = \\'<div class=\"text-slate-400\">-</div>\\';\\n      if (atrPercent !== null && atrPercent !== undefined) {\\n        const atrColorClass = atrPercent > 5 ? \\'text-orange-600 font-semibold\\' : \\'text-slate-600\\';\\n        atrPercentHtml = `<div class=\"font-mono ${atrColorClass}\">${atrPercent.toFixed(1)}%</div>`;\\n      }\\n      \\n      // ATR Used (igual que scanner)\\n      let atrUsedHtml = \\'<div class=\"text-slate-400\">-</div>\\';\\n      const atr_percent = ticker.atr_percent;\\n      const prev_close = ticker.prev_close;\\n      const change_percent = ticker.change_percent || 0;\\n      \\n      if (atr_percent && atr_percent !== 0 && prev_close) {\\n        const high = ticker.intraday_high ?? ticker.high;\\n        const low = ticker.intraday_low ?? ticker.low;\\n        \\n        let atrUsedValue;\\n        if (!high || !low) {\\n          atrUsedValue = (Math.abs(change_percent) / atr_percent) * 100;\\n        } else {\\n          let range_percent;\\n          if (change_percent >= 0) {\\n            range_percent = ((high - prev_close) / prev_close) * 100;\\n          } else {\\n            range_percent = ((prev_close - low) / prev_close) * 100;\\n          }\\n          atrUsedValue = (Math.abs(range_percent) / atr_percent) * 100;\\n        }\\n        \\n        let atrUsedColorClass = \\'text-slate-600\\';\\n        if (atrUsedValue > 150) {\\n          atrUsedColorClass = \\'text-red-600 font-bold\\';\\n        } else if (atrUsedValue > 100) {\\n          atrUsedColorClass = \\'text-orange-600 font-semibold\\';\\n        } else if (atrUsedValue > 75) {\\n          atrUsedColorClass = \\'text-yellow-600 font-medium\\';\\n        } else if (atrUsedValue > 50) {\\n          atrUsedColorClass = \\'text-blue-600\\';\\n        }\\n        \\n        atrUsedHtml = `<div class=\"font-mono ${atrUsedColorClass}\">${atrUsedValue.toFixed(0)}%</div>`;\\n      }\\n      \\n      return `\\n        <tr id=\"row-${ticker.symbol}\" class=\"hover:bg-slate-50 transition-colors duration-150 border-b border-slate-100\">\\n          <td class=\"px-3 py-2.5 text-center font-semibold text-slate-400\">${rank}</td>\\n          <td class=\"px-3 py-2.5\">\\n            <div class=\"font-bold text-blue-600 cursor-pointer hover:text-blue-800 hover:underline transition-colors\">${ticker.symbol}</div>\\n          </td>\\n          <td class=\"px-3 py-2.5 text-right\">\\n            <div class=\"price-cell font-mono font-semibold px-1 py-0.5 rounded text-slate-900\">${formatPrice(ticker.price)}</div>\\n          </td>\\n          <td class=\"px-3 py-2.5 text-right\">\\n            <div class=\"font-mono font-semibold ${isPositive ? \\'text-emerald-600\\' : \\'text-rose-600\\'}\">${formatPercent(gapPercent)}</div>\\n          </td>\\n          <td class=\"px-3 py-2.5 text-right\">\\n            <div class=\"font-mono text-slate-700 font-medium\">${formatNumber(volume)}</div>\\n          </td>\\n          <td class=\"px-3 py-2.5 text-right\">\\n            <div class=\"font-mono font-semibold ${rvolColor}\">${formatRVOL(rvol)}</div>\\n          </td>\\n          <td class=\"px-3 py-2.5 text-right\">\\n            <div class=\"font-mono text-slate-600\">${formatNumber(ticker.market_cap)}</div>\\n          </td>\\n          <td class=\"px-3 py-2.5 text-right\">\\n            <div class=\"font-mono text-slate-600\">${formatNumber(ticker.float_shares)}</div>\\n          </td>\\n          <td class=\"px-3 py-2.5 text-right\">\\n            ${atrPercentHtml}\\n          </td>\\n          <td class=\"px-3 py-2.5 text-right\">\\n            ${atrUsedHtml}\\n          </td>\\n        </tr>\\n      `;\\n    }\\n    \\n    // ============================================================\\n    // FORMATTERS (id\\xe9nticos al scanner)\\n    // ============================================================\\n    function formatPrice(value) {\\n      if (value == null || isNaN(value)) return \\'-\\';\\n      if (value >= 1000) return `$${value.toFixed(2)}`;\\n      if (value >= 1) return `$${value.toFixed(2)}`;\\n      if (value >= 0.01) return `$${value.toFixed(3)}`;\\n      return `$${value.toFixed(4)}`;\\n    }\\n    \\n    function formatPercent(value) {\\n      if (value == null || isNaN(value)) return \\'-\\';\\n      const sign = value > 0 ? \\'+\\' : \\'\\';\\n      return `${sign}${value.toFixed(2)}%`;\\n    }\\n    \\n    function formatNumber(value) {\\n      if (value == null || isNaN(value)) return \\'-\\';\\n      if (value >= 1e9) return `${(value / 1e9).toFixed(2)}B`;\\n      if (value >= 1e6) return `${(value / 1e6).toFixed(2)}M`;\\n      if (value >= 1e3) return `${(value / 1e3).toFixed(2)}K`;\\n      return value.toLocaleString(\\'en-US\\');\\n    }\\n    \\n    function formatRVOL(value) {\\n      if (value == null || isNaN(value)) return \\'-\\';\\n      return `${value.toFixed(2)}x`;\\n    }\\n    \\n    // ============================================================\\n    // INIT\\n    // ============================================================\\n    initWebSocket();\\n    console.log(\\'✅ Initialized\\');\\n  </script>\\n</body>\\n</html>\\n  ');\n    targetWindow.document.open();\n    targetWindow.document.write(htmlContent);\n    targetWindow.document.close();\n    console.log(\"✅ [WindowInjector] Injected\");\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi93aW5kb3ctaW5qZWN0b3IudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Ozs7O0NBT0MsR0FnQk0sU0FBU0Esa0JBQ2RDLElBQXVCLEVBQ3ZCQyxNQUFvQjtJQUVwQixNQUFNLEVBQ0pDLFFBQVEsSUFBSSxFQUNaQyxTQUFTLEdBQUcsRUFDWkMsV0FBVyxJQUFJLEVBQ2hCLEdBQUdIO0lBRUosTUFBTUksT0FBT0QsV0FBVyxDQUFDRSxPQUFPQyxNQUFNLENBQUNMLEtBQUssR0FBR0EsS0FBSSxJQUFLLElBQUk7SUFDNUQsTUFBTU0sTUFBTUosV0FBVyxDQUFDRSxPQUFPQyxNQUFNLENBQUNKLE1BQU0sR0FBR0EsTUFBSyxJQUFLLElBQUk7SUFFN0QsTUFBTU0saUJBQWlCO1FBQ3BCLFNBQWMsT0FBTlA7UUFDUixVQUFnQixPQUFQQztRQUNULFFBQVksT0FBTEU7UUFDUCxPQUFVLE9BQUpHO1FBQ1A7UUFDQTtRQUNBO0tBQ0QsQ0FBQ0UsSUFBSSxDQUFDO0lBRVAsTUFBTUMsWUFBWUwsT0FBT00sSUFBSSxDQUFDLGVBQWUsVUFBVUg7SUFFdkQsSUFBSSxDQUFDRSxXQUFXO1FBQ2RFLFFBQVFDLEtBQUssQ0FBQztRQUNkLE9BQU87SUFDVDtJQUVBQyxxQkFBcUJKLFdBQVdYLE1BQU1DO0lBRXRDLE9BQU9VO0FBQ1Q7QUFFQSxTQUFTSSxxQkFDUEMsWUFBb0IsRUFDcEJoQixJQUF1QixFQUN2QkMsTUFBb0I7SUFFcEIsTUFBTSxFQUFFZ0IsS0FBSyxFQUFFLEdBQUdoQjtJQUVsQixNQUFNaUIsY0FBYyw2SkE4R0RDLE9BeEdWRixPQUFNLGc5RkF3R3lCLE9BQXJCRSxLQUFLQyxTQUFTLENBQUNwQixPQUFNO0lBbWN4Q2dCLGFBQWFLLFFBQVEsQ0FBQ1QsSUFBSTtJQUMxQkksYUFBYUssUUFBUSxDQUFDQyxLQUFLLENBQUNKO0lBQzVCRixhQUFhSyxRQUFRLENBQUNFLEtBQUs7SUFFM0JWLFFBQVFXLEdBQUcsQ0FBQztBQUNkIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2xpYi93aW5kb3ctaW5qZWN0b3IudHM/NjVjZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNpc3RlbWEgZGUgVmVudGFuYXMgSW55ZWN0YWRhcyBwYXJhIFNjYW5uZXIgKFBhdHLDs24gR29kZWwgVGVybWluYWwpXG4gKiBcbiAqIC0gQWJyZSBhYm91dDpibGFua1xuICogLSBJbnllY3RhIEhUTUwgY29uIFRhaWx3aW5kIENTU1xuICogLSBDb25lY3RhIGFsIFNoYXJlZFdvcmtlciBleGlzdGVudGVcbiAqIC0gRGlzZcOxbyBJRMOJTlRJQ08gYWwgc2Nhbm5lciBvcmlnaW5hbFxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Nhbm5lcldpbmRvd0RhdGEge1xuICBsaXN0TmFtZTogc3RyaW5nO1xuICBjYXRlZ29yeU5hbWU6IHN0cmluZztcbiAgd3NVcmw6IHN0cmluZztcbiAgd29ya2VyVXJsOiBzdHJpbmc7IC8vIFVSTCBhYnNvbHV0YSBkZWwgU2hhcmVkV29ya2VyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2luZG93Q29uZmlnIHtcbiAgdGl0bGU6IHN0cmluZztcbiAgd2lkdGg/OiBudW1iZXI7XG4gIGhlaWdodD86IG51bWJlcjtcbiAgY2VudGVyZWQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3BlblNjYW5uZXJXaW5kb3coXG4gIGRhdGE6IFNjYW5uZXJXaW5kb3dEYXRhLFxuICBjb25maWc6IFdpbmRvd0NvbmZpZ1xuKTogV2luZG93IHwgbnVsbCB7XG4gIGNvbnN0IHtcbiAgICB3aWR0aCA9IDE0MDAsXG4gICAgaGVpZ2h0ID0gOTAwLFxuICAgIGNlbnRlcmVkID0gdHJ1ZSxcbiAgfSA9IGNvbmZpZztcblxuICBjb25zdCBsZWZ0ID0gY2VudGVyZWQgPyAod2luZG93LnNjcmVlbi53aWR0aCAtIHdpZHRoKSAvIDIgOiAxMDA7XG4gIGNvbnN0IHRvcCA9IGNlbnRlcmVkID8gKHdpbmRvdy5zY3JlZW4uaGVpZ2h0IC0gaGVpZ2h0KSAvIDIgOiAxMDA7XG5cbiAgY29uc3Qgd2luZG93RmVhdHVyZXMgPSBbXG4gICAgYHdpZHRoPSR7d2lkdGh9YCxcbiAgICBgaGVpZ2h0PSR7aGVpZ2h0fWAsXG4gICAgYGxlZnQ9JHtsZWZ0fWAsXG4gICAgYHRvcD0ke3RvcH1gLFxuICAgICdyZXNpemFibGU9eWVzJyxcbiAgICAnc2Nyb2xsYmFycz15ZXMnLFxuICAgICdzdGF0dXM9eWVzJyxcbiAgXS5qb2luKCcsJyk7XG5cbiAgY29uc3QgbmV3V2luZG93ID0gd2luZG93Lm9wZW4oJ2Fib3V0OmJsYW5rJywgJ19ibGFuaycsIHdpbmRvd0ZlYXR1cmVzKTtcblxuICBpZiAoIW5ld1dpbmRvdykge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBXaW5kb3cgYmxvY2tlZCcpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaW5qZWN0U2Nhbm5lckNvbnRlbnQobmV3V2luZG93LCBkYXRhLCBjb25maWcpO1xuXG4gIHJldHVybiBuZXdXaW5kb3c7XG59XG5cbmZ1bmN0aW9uIGluamVjdFNjYW5uZXJDb250ZW50KFxuICB0YXJnZXRXaW5kb3c6IFdpbmRvdyxcbiAgZGF0YTogU2Nhbm5lcldpbmRvd0RhdGEsXG4gIGNvbmZpZzogV2luZG93Q29uZmlnXG4pOiB2b2lkIHtcbiAgY29uc3QgeyB0aXRsZSB9ID0gY29uZmlnO1xuXG4gIGNvbnN0IGh0bWxDb250ZW50ID0gYFxuPCFET0NUWVBFIGh0bWw+XG48aHRtbCBsYW5nPVwiZXNcIj5cbjxoZWFkPlxuICA8bWV0YSBjaGFyc2V0PVwiVVRGLThcIj5cbiAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcIj5cbiAgPHRpdGxlPiR7dGl0bGV9PC90aXRsZT5cbiAgXG4gIDwhLS0gRnVlbnRlcyBFWEFDVEFTIGRlbCBwcm95ZWN0byAtLT5cbiAgPGxpbmsgcmVsPVwicHJlY29ubmVjdFwiIGhyZWY9XCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tXCI+XG4gIDxsaW5rIHJlbD1cInByZWNvbm5lY3RcIiBocmVmPVwiaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbVwiIGNyb3Nzb3JpZ2luPlxuICA8bGluayBocmVmPVwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1JbnRlcjp3Z2h0QDQwMDs1MDA7NjAwOzcwMCZmYW1pbHk9SmV0QnJhaW5zK01vbm86d2dodEA0MDA7NTAwOzYwMDs3MDAmZGlzcGxheT1zd2FwXCIgcmVsPVwic3R5bGVzaGVldFwiPlxuICBcbiAgPCEtLSBUYWlsd2luZCBDU1MgY29uIGNvbmZpZ3VyYWNpw7NuIHBlcnNvbmFsaXphZGEgLS0+XG4gIDxzY3JpcHQgc3JjPVwiaHR0cHM6Ly9jZG4udGFpbHdpbmRjc3MuY29tXCI+PC9zY3JpcHQ+XG4gIDxzY3JpcHQ+XG4gICAgdGFpbHdpbmQuY29uZmlnID0ge1xuICAgICAgdGhlbWU6IHtcbiAgICAgICAgZXh0ZW5kOiB7XG4gICAgICAgICAgZm9udEZhbWlseToge1xuICAgICAgICAgICAgc2FuczogWydJbnRlcicsICdzYW5zLXNlcmlmJ10sXG4gICAgICAgICAgICBtb25vOiBbJ0pldEJyYWlucyBNb25vJywgJ21vbm9zcGFjZSddXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb2xvcnM6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjRkZGRkZGJyxcbiAgICAgICAgICAgIGZvcmVncm91bmQ6ICcjMEYxNzJBJyxcbiAgICAgICAgICAgIHByaW1hcnk6IHtcbiAgICAgICAgICAgICAgREVGQVVMVDogJyMyNTYzRUInLFxuICAgICAgICAgICAgICBob3ZlcjogJyMxRDRFRDgnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9yZGVyOiAnI0UyRThGMCcsXG4gICAgICAgICAgICBtdXRlZDogJyNGOEZBRkMnLFxuICAgICAgICAgICAgc3VjY2VzczogJyMxMEI5ODEnLFxuICAgICAgICAgICAgZGFuZ2VyOiAnI0VGNDQ0NCdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIDwvc2NyaXB0PlxuICBcbiAgPHN0eWxlPlxuICAgIC8qIENTUyBHbG9iYWwgRVhBQ1RPIGRlbCBwcm95ZWN0byAqL1xuICAgICoge1xuICAgICAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XG4gICAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xuICAgIH1cbiAgICBcbiAgICBib2R5IHtcbiAgICAgIGZvbnQtZmFtaWx5OiBJbnRlciwgc2Fucy1zZXJpZjtcbiAgICAgIGNvbG9yOiAjMTcxNzE3O1xuICAgICAgYmFja2dyb3VuZDogI2ZmZmZmZjtcbiAgICB9XG4gICAgXG4gICAgLyogRXN0aWxvcyBkZSB0YWJsYSBFWEFDVE9TICovXG4gICAgdGFibGUge1xuICAgICAgY29sb3I6ICMxNzE3MTcgIWltcG9ydGFudDtcbiAgICB9XG4gICAgXG4gICAgdGFibGUgdGQsIHRhYmxlIHRoIHtcbiAgICAgIGNvbG9yOiBpbmhlcml0ICFpbXBvcnRhbnQ7XG4gICAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjFzIGVhc2Utb3V0LCBiYWNrZ3JvdW5kLWNvbG9yIDAuMTVzIGVhc2U7XG4gICAgfVxuICAgIFxuICAgIC8qIEZvbnQtbW9ubyBjb24gY29uZmlndXJhY2nDs24gRVhBQ1RBICovXG4gICAgLmZvbnQtbW9ubyB7XG4gICAgICBmb250LWZhbWlseTogJ0pldEJyYWlucyBNb25vJywgbW9ub3NwYWNlICFpbXBvcnRhbnQ7XG4gICAgICBjb2xvcjogIzBmMTcyYSAhaW1wb3J0YW50O1xuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB9XG4gICAgXG4gICAgLyogU2Nyb2xsYmFyIHBlcnNvbmFsaXphZGEgKi9cbiAgICAqOjotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgICB3aWR0aDogOHB4O1xuICAgICAgaGVpZ2h0OiA4cHg7XG4gICAgfVxuICAgIFxuICAgICo6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcbiAgICAgIGJhY2tncm91bmQ6ICNmMWY1Zjk7XG4gICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNlMmU4ZjA7XG4gICAgfVxuICAgIFxuICAgICo6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgICAgIGJhY2tncm91bmQ6ICNjYmQ1ZTE7XG4gICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMnM7XG4gICAgfVxuICAgIFxuICAgICo6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQ6ICMzYjgyZjY7XG4gICAgfVxuICAgIFxuICAgIC8qIEhlYWRlciBzdGlja3kgY29uIHNvbWJyYSAqL1xuICAgIC5zdGlja3ktaGVhZGVyIHtcbiAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDNweCAwIHJnYmEoMCwgMCwgMCwgMC4xKSwgMCAxcHggMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjA2KTtcbiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC45OCk7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9oZWFkPlxuPGJvZHkgY2xhc3M9XCJiZy13aGl0ZSBvdmVyZmxvdy1oaWRkZW4gZm9udC1zYW5zXCI+XG4gIDxkaXYgaWQ9XCJyb290XCIgY2xhc3M9XCJoLXNjcmVlbiBmbGV4IGZsZXgtY29sXCI+XG4gICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtZnVsbCBiZy1zbGF0ZS01MFwiPlxuICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTQgdy0xNCBib3JkZXItYi00IGJvcmRlci1ibHVlLTYwMCBteC1hdXRvIG1iLTRcIj48L2Rpdj5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNsYXRlLTkwMCBmb250LXNlbWlib2xkIHRleHQtYmFzZVwiPkNvbmVjdGFuZG8uLi48L3A+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbGF0ZS02MDAgdGV4dC1zbSBtdC0yXCI+RXN0YWJsZWNpZW5kbyBjb25leGnDs24gV2ViU29ja2V0PC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuXG4gIDxzY3JpcHQ+XG4gICAgY29uc3QgQ09ORklHID0gJHtKU09OLnN0cmluZ2lmeShkYXRhKX07XG4gICAgXG4gICAgbGV0IHNoYXJlZFdvcmtlciA9IG51bGw7XG4gICAgbGV0IHdvcmtlclBvcnQgPSBudWxsO1xuICAgIGxldCBpc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIGxldCB0aWNrZXJzRGF0YSA9IG5ldyBNYXAoKTtcbiAgICBsZXQgdGlja2VyT3JkZXIgPSBbXTtcbiAgICBcbiAgICAvLyBFc3RhZG8gZGUgb3JkZW5hbWllbnRvXG4gICAgbGV0IHNvcnRDb2x1bW4gPSBudWxsO1xuICAgIGxldCBzb3J0RGlyZWN0aW9uID0gJ2Rlc2MnOyAvLyAnYXNjJyBvICdkZXNjJ1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5qAIFtTY2FubmVyIFdpbmRvd10gSW5pdDonLCBDT05GSUcubGlzdE5hbWUpO1xuICAgIFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFdFQlNPQ0tFVCAoU2hhcmVkV29ya2VyKVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGZ1bmN0aW9uIGluaXRXZWJTb2NrZXQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjCBbU2Nhbm5lciBXaW5kb3ddIENvbm5lY3RpbmcgdG8gU2hhcmVkV29ya2VyOicsIENPTkZJRy53b3JrZXJVcmwpO1xuICAgICAgICBcbiAgICAgICAgc2hhcmVkV29ya2VyID0gbmV3IFNoYXJlZFdvcmtlcihDT05GSUcud29ya2VyVXJsLCB7XG4gICAgICAgICAgbmFtZTogJ3RyYWRldWwtd2Vic29ja2V0J1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHdvcmtlclBvcnQgPSBzaGFyZWRXb3JrZXIucG9ydDtcbiAgICAgICAgXG4gICAgICAgIHdvcmtlclBvcnQub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgY29uc3QgbXNnID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+TqCBbU2Nhbm5lciBXaW5kb3ddIE1lc3NhZ2UgZnJvbSB3b3JrZXI6JywgbXNnLnR5cGUsIG1zZyk7XG4gICAgICAgICAgXG4gICAgICAgICAgc3dpdGNoIChtc2cudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnbWVzc2FnZSc6XG4gICAgICAgICAgICAgIGhhbmRsZVdlYlNvY2tldE1lc3NhZ2UobXNnLmRhdGEpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3N0YXR1cyc6XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SMIFtTY2FubmVyIFdpbmRvd10gQ29ubmVjdGlvbiBzdGF0dXM6JywgbXNnLmlzQ29ubmVjdGVkID8gJ09OTElORSDinIUnIDogJ09GRkxJTkUg4p2MJyk7XG4gICAgICAgICAgICAgIHVwZGF0ZUNvbm5lY3Rpb25TdGF0dXMobXNnLmlzQ29ubmVjdGVkKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFJlLXJlbmRlcml6YXIgcGFyYSBhY3R1YWxpemFyIGVsIHN0YXR1cyBlbiBlbCBoZWFkZXJcbiAgICAgICAgICAgICAgaWYgKHRpY2tlcnNEYXRhLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGFibGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKG1zZy5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OhIFtTY2FubmVyIFdpbmRvd10gU3Vic2NyaWJpbmcgdG8gbGlzdDonLCBDT05GSUcubGlzdE5hbWUpO1xuICAgICAgICAgICAgICAgIHdvcmtlclBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnc3Vic2NyaWJlX2xpc3QnLFxuICAgICAgICAgICAgICAgICAgbGlzdDogQ09ORklHLmxpc3ROYW1lXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBbU2Nhbm5lciBXaW5kb3ddIFN1YnNjcmlwdGlvbiBzZW50Jyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgd29ya2VyUG9ydC5zdGFydCgpO1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtTY2FubmVyIFdpbmRvd10gV29ya2VyIHBvcnQgc3RhcnRlZCcpO1xuICAgICAgICBcbiAgICAgICAgLy8gRXNjdWNoYXIgZXJyb3JlcyBkZWwgd29ya2VyXG4gICAgICAgIHNoYXJlZFdvcmtlci5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtTY2FubmVyIFdpbmRvd10gU2hhcmVkV29ya2VyIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHdvcmtlclBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgIGFjdGlvbjogJ2Nvbm5lY3QnLFxuICAgICAgICAgIHVybDogQ09ORklHLndzVXJsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+ToSBbU2Nhbm5lciBXaW5kb3ddIENvbm5lY3QgbWVzc2FnZSBzZW50IHRvIHdvcmtlcicpO1xuICAgICAgICBcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbU2Nhbm5lciBXaW5kb3ddIEZhaWxlZCB0byBpbml0aWFsaXplIFdlYlNvY2tldDonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGhhbmRsZVdlYlNvY2tldE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnc25hcHNob3QnOlxuICAgICAgICAgIGlmIChtZXNzYWdlLmxpc3QgPT09IENPTkZJRy5saXN0TmFtZSkge1xuICAgICAgICAgICAgaGFuZGxlU25hcHNob3QobWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkZWx0YSc6XG4gICAgICAgICAgaWYgKG1lc3NhZ2UubGlzdCA9PT0gQ09ORklHLmxpc3ROYW1lKSB7XG4gICAgICAgICAgICBoYW5kbGVEZWx0YShtZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2FnZ3JlZ2F0ZSc6XG4gICAgICAgICAgaGFuZGxlQWdncmVnYXRlKG1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBoYW5kbGVTbmFwc2hvdChzbmFwc2hvdCkge1xuICAgICAgY29uc3Qgcm93cyA9IHNuYXBzaG90LnJvd3MgfHwgW107XG4gICAgICBjb25zb2xlLmxvZygn8J+TuCBTbmFwc2hvdDonLCByb3dzLmxlbmd0aCwgJ3RpY2tlcnMnKTtcbiAgICAgIFxuICAgICAgdGlja2Vyc0RhdGEuY2xlYXIoKTtcbiAgICAgIHRpY2tlck9yZGVyID0gW107XG4gICAgICBcbiAgICAgIHJvd3MuZm9yRWFjaCh0aWNrZXIgPT4ge1xuICAgICAgICB0aWNrZXJzRGF0YS5zZXQodGlja2VyLnN5bWJvbCwgdGlja2VyKTtcbiAgICAgICAgdGlja2VyT3JkZXIucHVzaCh0aWNrZXIuc3ltYm9sKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZW5kZXJUYWJsZSgpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBoYW5kbGVEZWx0YShkZWx0YSkge1xuICAgICAgaWYgKCFkZWx0YS5hY3Rpb25zKSByZXR1cm47XG4gICAgICBcbiAgICAgIGxldCBuZWVkc1JlbmRlciA9IGZhbHNlO1xuICAgICAgXG4gICAgICBkZWx0YS5hY3Rpb25zLmZvckVhY2goYWN0aW9uID0+IHtcbiAgICAgICAgc3dpdGNoIChhY3Rpb24uYWN0aW9uKSB7XG4gICAgICAgICAgY2FzZSAnYWRkJzpcbiAgICAgICAgICAgIGlmIChhY3Rpb24uZGF0YSkge1xuICAgICAgICAgICAgICB0aWNrZXJzRGF0YS5zZXQoYWN0aW9uLnN5bWJvbCwgYWN0aW9uLmRhdGEpO1xuICAgICAgICAgICAgICBpZiAoIXRpY2tlck9yZGVyLmluY2x1ZGVzKGFjdGlvbi5zeW1ib2wpKSB7XG4gICAgICAgICAgICAgICAgdGlja2VyT3JkZXIuc3BsaWNlKGFjdGlvbi5yYW5rID8/IHRpY2tlck9yZGVyLmxlbmd0aCwgMCwgYWN0aW9uLnN5bWJvbCk7XG4gICAgICAgICAgICAgICAgbmVlZHNSZW5kZXIgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdyZW1vdmUnOlxuICAgICAgICAgICAgdGlja2Vyc0RhdGEuZGVsZXRlKGFjdGlvbi5zeW1ib2wpO1xuICAgICAgICAgICAgdGlja2VyT3JkZXIgPSB0aWNrZXJPcmRlci5maWx0ZXIocyA9PiBzICE9PSBhY3Rpb24uc3ltYm9sKTtcbiAgICAgICAgICAgIG5lZWRzUmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3VwZGF0ZSc6XG4gICAgICAgICAgICBpZiAoYWN0aW9uLmRhdGEpIHtcbiAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSB0aWNrZXJzRGF0YS5nZXQoYWN0aW9uLnN5bWJvbCk7XG4gICAgICAgICAgICAgIHRpY2tlcnNEYXRhLnNldChhY3Rpb24uc3ltYm9sLCB7IC4uLmV4aXN0aW5nLCAuLi5hY3Rpb24uZGF0YSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3JlcmFuayc6XG4gICAgICAgICAgICB0aWNrZXJPcmRlciA9IHRpY2tlck9yZGVyLmZpbHRlcihzID0+IHMgIT09IGFjdGlvbi5zeW1ib2wpO1xuICAgICAgICAgICAgdGlja2VyT3JkZXIuc3BsaWNlKGFjdGlvbi5uZXdfcmFuaywgMCwgYWN0aW9uLnN5bWJvbCk7XG4gICAgICAgICAgICBuZWVkc1JlbmRlciA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChuZWVkc1JlbmRlcikgcmVuZGVyVGFibGUoKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gaGFuZGxlQWdncmVnYXRlKGFnZ3JlZ2F0ZSkge1xuICAgICAgaWYgKCFhZ2dyZWdhdGUuc3ltYm9sIHx8ICFhZ2dyZWdhdGUuZGF0YSkgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCB0aWNrZXIgPSB0aWNrZXJzRGF0YS5nZXQoYWdncmVnYXRlLnN5bWJvbCk7XG4gICAgICBpZiAoIXRpY2tlcikgcmV0dXJuO1xuICAgICAgXG4gICAgICB0aWNrZXIucHJpY2UgPSBhZ2dyZWdhdGUuZGF0YS5jbG9zZSA/PyB0aWNrZXIucHJpY2U7XG4gICAgICBcbiAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxcYCNyb3ctXFwke2FnZ3JlZ2F0ZS5zeW1ib2x9IC5wcmljZS1jZWxsXFxgKTtcbiAgICAgIGlmIChjZWxsKSBjZWxsLnRleHRDb250ZW50ID0gZm9ybWF0UHJpY2UodGlja2VyLnByaWNlKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gdXBkYXRlQ29ubmVjdGlvblN0YXR1cyhjb25uZWN0ZWQpIHtcbiAgICAgIGlzQ29ubmVjdGVkID0gY29ubmVjdGVkO1xuICAgICAgXG4gICAgICAvLyBBY3R1YWxpemFyIGVsZW1lbnRvcyBzaSBleGlzdGVuIChhbnRlcyBkZSByZS1yZW5kZXIpXG4gICAgICBjb25zdCBkb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzLWRvdCcpO1xuICAgICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXMtdGV4dCcpO1xuICAgICAgXG4gICAgICBpZiAoZG90KSB7XG4gICAgICAgIGRvdC5jbGFzc05hbWUgPSBjb25uZWN0ZWQgXG4gICAgICAgICAgPyAndy0xLjUgaC0xLjUgcm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtNTAwJyBcbiAgICAgICAgICA6ICd3LTEuNSBoLTEuNSByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMzAwJztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IGNvbm5lY3RlZCA/ICdMaXZlJyA6ICdPZmZsaW5lJztcbiAgICAgICAgdGV4dC5jbGFzc05hbWUgPSBjb25uZWN0ZWRcbiAgICAgICAgICA/ICd0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgOiAndGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFJFTkRFUiAoY2xhc2VzIFRhaWx3aW5kIElEw4lOVElDQVMgYWwgc2Nhbm5lcilcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBmdW5jdGlvbiByZW5kZXJUYWJsZSgpIHtcbiAgICAgIGNvbnN0IHRpY2tlcnMgPSB0aWNrZXJPcmRlci5tYXAocyA9PiB0aWNrZXJzRGF0YS5nZXQocykpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgIFxuICAgICAgLy8gQ2xhc2VzIGRlIHN0YXR1cyBzZWfDum4gY29uZXhpw7NuXG4gICAgICBjb25zdCBzdGF0dXNEb3RDbGFzcyA9IGlzQ29ubmVjdGVkIFxuICAgICAgICA/ICd3LTEuNSBoLTEuNSByb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC01MDAnIFxuICAgICAgICA6ICd3LTEuNSBoLTEuNSByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMzAwJztcbiAgICAgIGNvbnN0IHN0YXR1c1RleHRDbGFzcyA9IGlzQ29ubmVjdGVkXG4gICAgICAgID8gJ3RleHQteHMgZm9udC1tZWRpdW0gdGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgOiAndGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBjb25zdCBzdGF0dXNUZXh0ID0gaXNDb25uZWN0ZWQgPyAnTGl2ZScgOiAnT2ZmbGluZSc7XG4gICAgICBcbiAgICAgIGlmICh0aWNrZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpLmlubmVySFRNTCA9IFxcYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJoLXNjcmVlbiBmbGV4IGZsZXgtY29sIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB4LTMgcHktMiBiZy13aGl0ZSBib3JkZXItYi0yIGJvcmRlci1ibHVlLTUwMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTEgaC02IGJnLWJsdWUtNTAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwidGV4dC1iYXNlIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPlxcJHtDT05GSUcuY2F0ZWdvcnlOYW1lfTwvaDI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJzdGF0dXMtZG90XCIgY2xhc3M9XCJcXCR7c3RhdHVzRG90Q2xhc3N9XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBpZD1cInN0YXR1cy10ZXh0XCIgY2xhc3M9XCJcXCR7c3RhdHVzVGV4dENsYXNzfVwiPlxcJHtzdGF0dXNUZXh0fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgcHgtMiBweS0wLjUgYmctYmx1ZS01MCByb3VuZGVkIGJvcmRlciBib3JkZXItYmx1ZS0yMDBcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtYmx1ZS02MDBcIj4wPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+dGlja2Vyczwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctc2xhdGUtNTBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNsYXRlLTUwMFwiPk5vIGhheSBkYXRvcyBkaXNwb25pYmxlczwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBcXGA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgaHRtbCA9IFxcYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiaC1zY3JlZW4gZmxleCBmbGV4LWNvbCBiZy13aGl0ZVwiPlxuICAgICAgICAgIDwhLS0gSGVhZGVyIChJRMOJTlRJQ08gYSBNYXJrZXRUYWJsZUxheW91dCkgLS0+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweC0zIHB5LTIgYmctd2hpdGUgYm9yZGVyLWItMiBib3JkZXItYmx1ZS01MDBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0xIGgtNiBiZy1ibHVlLTUwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJ0ZXh0LWJhc2UgZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwIHRyYWNraW5nLXRpZ2h0XCI+XFwke0NPTkZJRy5jYXRlZ29yeU5hbWV9PC9oMj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJzdGF0dXMtZG90XCIgY2xhc3M9XCJcXCR7c3RhdHVzRG90Q2xhc3N9XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJzdGF0dXMtdGV4dFwiIGNsYXNzPVwiXFwke3N0YXR1c1RleHRDbGFzc31cIj5cXCR7c3RhdHVzVGV4dH08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHB4LTIgcHktMC41IGJnLWJsdWUtNTAgcm91bmRlZCBib3JkZXIgYm9yZGVyLWJsdWUtMjAwXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1ibHVlLTYwMFwiPlxcJHt0aWNrZXJzLmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+dGlja2Vyczwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgdGV4dC14c1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc2xhdGUtNTAwXCI+VXBkYXRlZDwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJ0aW1lc3RhbXBcIiBjbGFzcz1cImZvbnQtbW9ubyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTcwMFwiPlxcJHtuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDwhLS0gVGFibGUgQ29udGFpbmVyIC0tPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgb3ZlcmZsb3ctYXV0byBiZy13aGl0ZVwiPlxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwidy1mdWxsIGJvcmRlci1jb2xsYXBzZVwiPlxuICAgICAgICAgICAgICA8dGhlYWQgY2xhc3M9XCJiZy1zbGF0ZS01MCBib3JkZXItYiBib3JkZXItc2xhdGUtMjAwIHN0aWNreSB0b3AtMCB6LTEwXCI+XG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwicHgtMyBweS0zIHRleHQtY2VudGVyIHRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIiBzdHlsZT1cIndpZHRoOjQwcHhcIj4jPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aCBvbmNsaWNrPVwiaGFuZGxlU29ydCgnc3ltYm9sJylcIiBjbGFzcz1cInB4LTMgcHktMyB0ZXh0LWxlZnQgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNjAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlciBjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1zbGF0ZS0xMDAgdHJhbnNpdGlvbi1jb2xvcnNcIiBzdHlsZT1cIndpZHRoOjc1cHhcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgU3ltYm9sXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0LWljb25cIj5cXCR7Z2V0U29ydEljb24oJ3N5bWJvbCcpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIG9uY2xpY2s9XCJoYW5kbGVTb3J0KCdwcmljZScpXCIgY2xhc3M9XCJweC0zIHB5LTMgdGV4dC1yaWdodCB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLXNsYXRlLTEwMCB0cmFuc2l0aW9uLWNvbG9yc1wiIHN0eWxlPVwid2lkdGg6ODBweFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICBQcmljZVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydC1pY29uXCI+XFwke2dldFNvcnRJY29uKCdwcmljZScpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIG9uY2xpY2s9XCJoYW5kbGVTb3J0KCdjaGFuZ2VfcGVyY2VudCcpXCIgY2xhc3M9XCJweC0zIHB5LTMgdGV4dC1yaWdodCB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLXNsYXRlLTEwMCB0cmFuc2l0aW9uLWNvbG9yc1wiIHN0eWxlPVwid2lkdGg6ODVweFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICBHYXAgJVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydC1pY29uXCI+XFwke2dldFNvcnRJY29uKCdjaGFuZ2VfcGVyY2VudCcpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIG9uY2xpY2s9XCJoYW5kbGVTb3J0KCd2b2x1bWVfdG9kYXknKVwiIGNsYXNzPVwicHgtMyBweS0zIHRleHQtcmlnaHQgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNjAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlciBjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1zbGF0ZS0xMDAgdHJhbnNpdGlvbi1jb2xvcnNcIiBzdHlsZT1cIndpZHRoOjkwcHhcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgVm9sdW1lXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0LWljb25cIj5cXCR7Z2V0U29ydEljb24oJ3ZvbHVtZV90b2RheScpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIG9uY2xpY2s9XCJoYW5kbGVTb3J0KCdydm9sJylcIiBjbGFzcz1cInB4LTMgcHktMyB0ZXh0LXJpZ2h0IHRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6Ymctc2xhdGUtMTAwIHRyYW5zaXRpb24tY29sb3JzXCIgc3R5bGU9XCJ3aWR0aDo3MHB4XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIFJWT0xcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvcnQtaWNvblwiPlxcJHtnZXRTb3J0SWNvbigncnZvbCcpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIG9uY2xpY2s9XCJoYW5kbGVTb3J0KCdtYXJrZXRfY2FwJylcIiBjbGFzcz1cInB4LTMgcHktMyB0ZXh0LXJpZ2h0IHRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6Ymctc2xhdGUtMTAwIHRyYW5zaXRpb24tY29sb3JzXCIgc3R5bGU9XCJ3aWR0aDoxMDBweFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICBNYXJrZXQgQ2FwXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0LWljb25cIj5cXCR7Z2V0U29ydEljb24oJ21hcmtldF9jYXAnKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aCBvbmNsaWNrPVwiaGFuZGxlU29ydCgnZmxvYXRfc2hhcmVzJylcIiBjbGFzcz1cInB4LTMgcHktMyB0ZXh0LXJpZ2h0IHRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6Ymctc2xhdGUtMTAwIHRyYW5zaXRpb24tY29sb3JzXCIgc3R5bGU9XCJ3aWR0aDo5MHB4XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIEZsb2F0XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0LWljb25cIj5cXCR7Z2V0U29ydEljb24oJ2Zsb2F0X3NoYXJlcycpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIG9uY2xpY2s9XCJoYW5kbGVTb3J0KCdhdHJfcGVyY2VudCcpXCIgY2xhc3M9XCJweC0zIHB5LTMgdGV4dC1yaWdodCB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLXNsYXRlLTEwMCB0cmFuc2l0aW9uLWNvbG9yc1wiIHN0eWxlPVwid2lkdGg6NzBweFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICBBVFIlXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0LWljb25cIj5cXCR7Z2V0U29ydEljb24oJ2F0cl9wZXJjZW50Jyl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggb25jbGljaz1cImhhbmRsZVNvcnQoJ2F0cl91c2VkJylcIiBjbGFzcz1cInB4LTMgcHktMyB0ZXh0LXJpZ2h0IHRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6Ymctc2xhdGUtMTAwIHRyYW5zaXRpb24tY29sb3JzXCIgc3R5bGU9XCJ3aWR0aDo4NXB4XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIEFUUiBVc2VkXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0LWljb25cIj5cXCR7Z2V0U29ydEljb24oJ2F0cl91c2VkJyl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgICAgPHRib2R5IGNsYXNzPVwiZGl2aWRlLXkgZGl2aWRlLXNsYXRlLTEwMCBiZy13aGl0ZVwiPlxuICAgICAgICAgICAgICAgIFxcJHt0aWNrZXJzLm1hcCgodGlja2VyLCBpbmRleCkgPT4gcmVuZGVyUm93KHRpY2tlciwgaW5kZXggKyAxKSkuam9pbignJyl9XG4gICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIFxcYDtcbiAgICAgIFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKS5pbm5lckhUTUwgPSBodG1sO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiByZW5kZXJSb3codGlja2VyLCByYW5rKSB7XG4gICAgICBjb25zdCBnYXBQZXJjZW50ID0gdGlja2VyLmNoYW5nZV9wZXJjZW50ID8/IHRpY2tlci5nYXBfcGVyY2VudCA/PyAwO1xuICAgICAgY29uc3QgaXNQb3NpdGl2ZSA9IGdhcFBlcmNlbnQgPj0gMDtcbiAgICAgIGNvbnN0IHZvbHVtZSA9IHRpY2tlci52b2x1bWVfdG9kYXkgPz8gdGlja2VyLnZvbHVtZSA/PyAwO1xuICAgICAgY29uc3QgcnZvbCA9IHRpY2tlci5ydm9sX3Nsb3QgPz8gdGlja2VyLnJ2b2wgPz8gMDtcbiAgICAgIFxuICAgICAgLy8gUlZPTCBjb2xvciAoaWd1YWwgcXVlIHNjYW5uZXIpXG4gICAgICBsZXQgcnZvbENvbG9yID0gJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIGlmIChydm9sID4gMykgcnZvbENvbG9yID0gJ3RleHQtYmx1ZS03MDAnO1xuICAgICAgZWxzZSBpZiAocnZvbCA+IDEuNSkgcnZvbENvbG9yID0gJ3RleHQtYmx1ZS02MDAnO1xuICAgICAgXG4gICAgICAvLyBBVFIlIChpZ3VhbCBxdWUgc2Nhbm5lcilcbiAgICAgIGNvbnN0IGF0clBlcmNlbnQgPSB0aWNrZXIuYXRyX3BlcmNlbnQ7XG4gICAgICBsZXQgYXRyUGVyY2VudEh0bWwgPSAnPGRpdiBjbGFzcz1cInRleHQtc2xhdGUtNDAwXCI+LTwvZGl2Pic7XG4gICAgICBpZiAoYXRyUGVyY2VudCAhPT0gbnVsbCAmJiBhdHJQZXJjZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgYXRyQ29sb3JDbGFzcyA9IGF0clBlcmNlbnQgPiA1ID8gJ3RleHQtb3JhbmdlLTYwMCBmb250LXNlbWlib2xkJyA6ICd0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICAgIGF0clBlcmNlbnRIdG1sID0gXFxgPGRpdiBjbGFzcz1cImZvbnQtbW9ubyBcXCR7YXRyQ29sb3JDbGFzc31cIj5cXCR7YXRyUGVyY2VudC50b0ZpeGVkKDEpfSU8L2Rpdj5cXGA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFUUiBVc2VkIChpZ3VhbCBxdWUgc2Nhbm5lcilcbiAgICAgIGxldCBhdHJVc2VkSHRtbCA9ICc8ZGl2IGNsYXNzPVwidGV4dC1zbGF0ZS00MDBcIj4tPC9kaXY+JztcbiAgICAgIGNvbnN0IGF0cl9wZXJjZW50ID0gdGlja2VyLmF0cl9wZXJjZW50O1xuICAgICAgY29uc3QgcHJldl9jbG9zZSA9IHRpY2tlci5wcmV2X2Nsb3NlO1xuICAgICAgY29uc3QgY2hhbmdlX3BlcmNlbnQgPSB0aWNrZXIuY2hhbmdlX3BlcmNlbnQgfHwgMDtcbiAgICAgIFxuICAgICAgaWYgKGF0cl9wZXJjZW50ICYmIGF0cl9wZXJjZW50ICE9PSAwICYmIHByZXZfY2xvc2UpIHtcbiAgICAgICAgY29uc3QgaGlnaCA9IHRpY2tlci5pbnRyYWRheV9oaWdoID8/IHRpY2tlci5oaWdoO1xuICAgICAgICBjb25zdCBsb3cgPSB0aWNrZXIuaW50cmFkYXlfbG93ID8/IHRpY2tlci5sb3c7XG4gICAgICAgIFxuICAgICAgICBsZXQgYXRyVXNlZFZhbHVlO1xuICAgICAgICBpZiAoIWhpZ2ggfHwgIWxvdykge1xuICAgICAgICAgIGF0clVzZWRWYWx1ZSA9IChNYXRoLmFicyhjaGFuZ2VfcGVyY2VudCkgLyBhdHJfcGVyY2VudCkgKiAxMDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IHJhbmdlX3BlcmNlbnQ7XG4gICAgICAgICAgaWYgKGNoYW5nZV9wZXJjZW50ID49IDApIHtcbiAgICAgICAgICAgIHJhbmdlX3BlcmNlbnQgPSAoKGhpZ2ggLSBwcmV2X2Nsb3NlKSAvIHByZXZfY2xvc2UpICogMTAwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByYW5nZV9wZXJjZW50ID0gKChwcmV2X2Nsb3NlIC0gbG93KSAvIHByZXZfY2xvc2UpICogMTAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhdHJVc2VkVmFsdWUgPSAoTWF0aC5hYnMocmFuZ2VfcGVyY2VudCkgLyBhdHJfcGVyY2VudCkgKiAxMDA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGxldCBhdHJVc2VkQ29sb3JDbGFzcyA9ICd0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICAgIGlmIChhdHJVc2VkVmFsdWUgPiAxNTApIHtcbiAgICAgICAgICBhdHJVc2VkQ29sb3JDbGFzcyA9ICd0ZXh0LXJlZC02MDAgZm9udC1ib2xkJztcbiAgICAgICAgfSBlbHNlIGlmIChhdHJVc2VkVmFsdWUgPiAxMDApIHtcbiAgICAgICAgICBhdHJVc2VkQ29sb3JDbGFzcyA9ICd0ZXh0LW9yYW5nZS02MDAgZm9udC1zZW1pYm9sZCc7XG4gICAgICAgIH0gZWxzZSBpZiAoYXRyVXNlZFZhbHVlID4gNzUpIHtcbiAgICAgICAgICBhdHJVc2VkQ29sb3JDbGFzcyA9ICd0ZXh0LXllbGxvdy02MDAgZm9udC1tZWRpdW0nO1xuICAgICAgICB9IGVsc2UgaWYgKGF0clVzZWRWYWx1ZSA+IDUwKSB7XG4gICAgICAgICAgYXRyVXNlZENvbG9yQ2xhc3MgPSAndGV4dC1ibHVlLTYwMCc7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGF0clVzZWRIdG1sID0gXFxgPGRpdiBjbGFzcz1cImZvbnQtbW9ubyBcXCR7YXRyVXNlZENvbG9yQ2xhc3N9XCI+XFwke2F0clVzZWRWYWx1ZS50b0ZpeGVkKDApfSU8L2Rpdj5cXGA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBcXGBcbiAgICAgICAgPHRyIGlkPVwicm93LVxcJHt0aWNrZXIuc3ltYm9sfVwiIGNsYXNzPVwiaG92ZXI6Ymctc2xhdGUtNTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwIGJvcmRlci1iIGJvcmRlci1zbGF0ZS0xMDBcIj5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC0zIHB5LTIuNSB0ZXh0LWNlbnRlciBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNDAwXCI+XFwke3Jhbmt9PC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC0zIHB5LTIuNVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LWJsdWUtNjAwIGN1cnNvci1wb2ludGVyIGhvdmVyOnRleHQtYmx1ZS04MDAgaG92ZXI6dW5kZXJsaW5lIHRyYW5zaXRpb24tY29sb3JzXCI+XFwke3RpY2tlci5zeW1ib2x9PC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC0zIHB5LTIuNSB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJpY2UtY2VsbCBmb250LW1vbm8gZm9udC1zZW1pYm9sZCBweC0xIHB5LTAuNSByb3VuZGVkIHRleHQtc2xhdGUtOTAwXCI+XFwke2Zvcm1hdFByaWNlKHRpY2tlci5wcmljZSl9PC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC0zIHB5LTIuNSB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9udC1tb25vIGZvbnQtc2VtaWJvbGQgXFwke2lzUG9zaXRpdmUgPyAndGV4dC1lbWVyYWxkLTYwMCcgOiAndGV4dC1yb3NlLTYwMCd9XCI+XFwke2Zvcm1hdFBlcmNlbnQoZ2FwUGVyY2VudCl9PC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC0zIHB5LTIuNSB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9udC1tb25vIHRleHQtc2xhdGUtNzAwIGZvbnQtbWVkaXVtXCI+XFwke2Zvcm1hdE51bWJlcih2b2x1bWUpfTwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtMyBweS0yLjUgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtbW9ubyBmb250LXNlbWlib2xkIFxcJHtydm9sQ29sb3J9XCI+XFwke2Zvcm1hdFJWT0wocnZvbCl9PC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC0zIHB5LTIuNSB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9udC1tb25vIHRleHQtc2xhdGUtNjAwXCI+XFwke2Zvcm1hdE51bWJlcih0aWNrZXIubWFya2V0X2NhcCl9PC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC0zIHB5LTIuNSB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9udC1tb25vIHRleHQtc2xhdGUtNjAwXCI+XFwke2Zvcm1hdE51bWJlcih0aWNrZXIuZmxvYXRfc2hhcmVzKX08L2Rpdj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTMgcHktMi41IHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgIFxcJHthdHJQZXJjZW50SHRtbH1cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTMgcHktMi41IHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgIFxcJHthdHJVc2VkSHRtbH1cbiAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgXFxgO1xuICAgIH1cbiAgICBcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGT1JNQVRURVJTIChpZMOpbnRpY29zIGFsIHNjYW5uZXIpXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgZnVuY3Rpb24gZm9ybWF0UHJpY2UodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IGlzTmFOKHZhbHVlKSkgcmV0dXJuICctJztcbiAgICAgIGlmICh2YWx1ZSA+PSAxMDAwKSByZXR1cm4gXFxgJFxcJHt2YWx1ZS50b0ZpeGVkKDIpfVxcYDtcbiAgICAgIGlmICh2YWx1ZSA+PSAxKSByZXR1cm4gXFxgJFxcJHt2YWx1ZS50b0ZpeGVkKDIpfVxcYDtcbiAgICAgIGlmICh2YWx1ZSA+PSAwLjAxKSByZXR1cm4gXFxgJFxcJHt2YWx1ZS50b0ZpeGVkKDMpfVxcYDtcbiAgICAgIHJldHVybiBcXGAkXFwke3ZhbHVlLnRvRml4ZWQoNCl9XFxgO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBmb3JtYXRQZXJjZW50KHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCBpc05hTih2YWx1ZSkpIHJldHVybiAnLSc7XG4gICAgICBjb25zdCBzaWduID0gdmFsdWUgPiAwID8gJysnIDogJyc7XG4gICAgICByZXR1cm4gXFxgXFwke3NpZ259XFwke3ZhbHVlLnRvRml4ZWQoMil9JVxcYDtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gZm9ybWF0TnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCBpc05hTih2YWx1ZSkpIHJldHVybiAnLSc7XG4gICAgICBpZiAodmFsdWUgPj0gMWU5KSByZXR1cm4gXFxgXFwkeyh2YWx1ZSAvIDFlOSkudG9GaXhlZCgyKX1CXFxgO1xuICAgICAgaWYgKHZhbHVlID49IDFlNikgcmV0dXJuIFxcYFxcJHsodmFsdWUgLyAxZTYpLnRvRml4ZWQoMil9TVxcYDtcbiAgICAgIGlmICh2YWx1ZSA+PSAxZTMpIHJldHVybiBcXGBcXCR7KHZhbHVlIC8gMWUzKS50b0ZpeGVkKDIpfUtcXGA7XG4gICAgICByZXR1cm4gdmFsdWUudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJyk7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGZvcm1hdFJWT0wodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IGlzTmFOKHZhbHVlKSkgcmV0dXJuICctJztcbiAgICAgIHJldHVybiBcXGBcXCR7dmFsdWUudG9GaXhlZCgyKX14XFxgO1xuICAgIH1cbiAgICBcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBJTklUXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgaW5pdFdlYlNvY2tldCgpO1xuICAgIGNvbnNvbGUubG9nKCfinIUgSW5pdGlhbGl6ZWQnKTtcbiAgPC9zY3JpcHQ+XG48L2JvZHk+XG48L2h0bWw+XG4gIGA7XG5cbiAgdGFyZ2V0V2luZG93LmRvY3VtZW50Lm9wZW4oKTtcbiAgdGFyZ2V0V2luZG93LmRvY3VtZW50LndyaXRlKGh0bWxDb250ZW50KTtcbiAgdGFyZ2V0V2luZG93LmRvY3VtZW50LmNsb3NlKCk7XG5cbiAgY29uc29sZS5sb2coJ+KchSBbV2luZG93SW5qZWN0b3JdIEluamVjdGVkJyk7XG59XG4iXSwibmFtZXMiOlsib3BlblNjYW5uZXJXaW5kb3ciLCJkYXRhIiwiY29uZmlnIiwid2lkdGgiLCJoZWlnaHQiLCJjZW50ZXJlZCIsImxlZnQiLCJ3aW5kb3ciLCJzY3JlZW4iLCJ0b3AiLCJ3aW5kb3dGZWF0dXJlcyIsImpvaW4iLCJuZXdXaW5kb3ciLCJvcGVuIiwiY29uc29sZSIsImVycm9yIiwiaW5qZWN0U2Nhbm5lckNvbnRlbnQiLCJ0YXJnZXRXaW5kb3ciLCJ0aXRsZSIsImh0bWxDb250ZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRvY3VtZW50Iiwid3JpdGUiLCJjbG9zZSIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/window-injector.ts\n"));

/***/ })

});